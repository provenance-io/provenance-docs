"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3447],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),c=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(p.Provider,{value:t},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),s=c(n),m=o,g=s["".concat(p,".").concat(m)]||s[m]||d[m]||a;return n?r.createElement(g,i(i({ref:t},u),{},{components:n})):r.createElement(g,i({ref:t},u))}));function g(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[s]="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8677:(e,t,n)=>{n.d(t,{Y:()=>o});var r=n(7294);const o=e=>{let{text:t}=e;return r.createElement("p",{className:"pb-5 mb-5 -mt-3 border-0 border-b border-b-gray-300 border-solid text-gray-500"},t)}},8713:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>p,toc:()=>u});var r=n(7462),o=(n(7294),n(3905)),a=n(8677);const i={},l="Deploying the Encrypted Object Store",p={unversionedId:"pb/integrating/integrating-with-p8e/p8e-contract-execution-environment-p8e/deploying-the-encrypted-object-store/index",id:"pb/integrating/integrating-with-p8e/p8e-contract-execution-environment-p8e/deploying-the-encrypted-object-store/index",title:"Deploying the Encrypted Object Store",description:'<DocSubheader text="Practical guide to deploying the Object Store"',source:"@site/docs/pb/integrating/integrating-with-p8e/p8e-contract-execution-environment-p8e/deploying-the-encrypted-object-store/index.md",sourceDirName:"pb/integrating/integrating-with-p8e/p8e-contract-execution-environment-p8e/deploying-the-encrypted-object-store",slug:"/pb/integrating/integrating-with-p8e/p8e-contract-execution-environment-p8e/deploying-the-encrypted-object-store/",permalink:"/docs/pb/integrating/integrating-with-p8e/p8e-contract-execution-environment-p8e/deploying-the-encrypted-object-store/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"documentationSidebar",previous:{title:"BlockVault Contract Execution Environment (formerly nicknamed \u201cP8e\u201d)",permalink:"/docs/pb/integrating/integrating-with-p8e/p8e-contract-execution-environment-p8e/"},next:{title:"Configuring Replication",permalink:"/docs/pb/integrating/integrating-with-p8e/p8e-contract-execution-environment-p8e/deploying-the-encrypted-object-store/configuring-replication"}},c={},u=[{value:"Local Deployment",id:"local-deployment",level:2},{value:"Requirements",id:"requirements",level:3},{value:"Setup",id:"setup",level:3},{value:"Default Configuration",id:"default-configuration",level:3},{value:"Sandbox Environment",id:"sandbox-environment",level:2}],s={toc:u},d="wrapper";function m(e){let{components:t,...i}=e;return(0,o.kt)(d,(0,r.Z)({},s,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"deploying-the-encrypted-object-store"},"Deploying the Encrypted Object Store"),(0,o.kt)(a.Y,{text:"Practical guide to deploying the Object Store",mdxType:"DocSubheader"}),(0,o.kt)("h2",{id:"local-deployment"},"Local Deployment"),(0,o.kt)("p",null,"A local environment can help get you acquainted with the object store. Typical use cases will require at least two object stores, to simulate data being shared between two separate participants."),(0,o.kt)("p",null,"A script for deploying a local environment in Docker with two object stores and a Provenance node is available in the BlockVault CEE API repository. It stands up two object stores backed by a PostgreSQL data store along with a single Provenance Blockchain node. The object stores and blockchain node provide an environment to exercise the various operations needed to understand how data is stored in BlockVault. This repository also provides a web-server you can use to exercise and manipulate your environment to meet your needs."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Local Environment Setup",src:n(944).Z,width:"1265",height:"1232"})),(0,o.kt)("h3",{id:"requirements"},"Requirements"),(0,o.kt)("p",null,"The general system requirements to spin up this test environment locally are as follows, but do check out ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/provenance-io/p8e-cee-api"},"README")," for more details."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Git command line"),(0,o.kt)("li",{parentName:"ol"},"Terminal that can run shell scripts (e.b. Mac Terminal, Bash)"),(0,o.kt)("li",{parentName:"ol"},"Docker and Docker Compose"),(0,o.kt)("li",{parentName:"ol"},"Gradle"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://www.vaultproject.io/docs/install"},"Vault")," installed on your local OS")),(0,o.kt)("h3",{id:"setup"},"Setup"),(0,o.kt)("p",null,"Download the repo."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"git clone https://github.com/provenance-io/p8e-cee-api\ncd p8e-cee-api\n./gradlew clean build\n")),(0,o.kt)("p",null,"Setup Docker containers as detailed in the image above using a script."," "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"./dc.sh up\n")),(0,o.kt)("p",null,"Start the web server."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"./gradlew bootRun\n")),(0,o.kt)("h3",{id:"default-configuration"},"Default Configuration"),(0,o.kt)("p",null,"Depending on your testing needs, you may choose to just operate on one of the two Object Stores, but two have been provided to support simulating operations across two separate Object Stores."),(0,o.kt)("p",null,"By default, the components are listening on the following ports:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Component"),(0,o.kt)("th",{parentName:"tr",align:null},"Container Name"),(0,o.kt)("th",{parentName:"tr",align:null},"Port(s)"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Provenance Blockchain Node"),(0,o.kt)("td",{parentName:"tr",align:null},"provenance"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("p",null,"1317:1317",(0,o.kt)("br",null),"9090:9090",(0,o.kt)("br",null),"26657:26657"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Postgres"),(0,o.kt)("td",{parentName:"tr",align:null},"postgres"),(0,o.kt)("td",{parentName:"tr",align:null},"5432:5432")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Vault"),(0,o.kt)("td",{parentName:"tr",align:null},"vault"),(0,o.kt)("td",{parentName:"tr",align:null},"8200:8200")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Object Store 1"),(0,o.kt)("td",{parentName:"tr",align:null},"object-store-1"),(0,o.kt)("td",{parentName:"tr",align:null},"5001:8081")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Object Store 2"),(0,o.kt)("td",{parentName:"tr",align:null},"object-store-2"),(0,o.kt)("td",{parentName:"tr",align:null},"5002:8082")))),(0,o.kt)("h2",{id:"sandbox-environment"},"Sandbox Environment"),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Figure hosts and operates a sandbox BlockVault environment that is configured to work with the Provenance testnet for potential asset originators to play with. Contact Figure for more information.")))}m.isMDXComponent=!0},944:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/local-environment-setup-63bc7971203a0c8b4eb28419e82f01ad.png"}}]);