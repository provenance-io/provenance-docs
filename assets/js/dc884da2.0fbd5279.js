"use strict";(self.webpackChunkprovenance_blockchain_developer_portal=self.webpackChunkprovenance_blockchain_developer_portal||[]).push([[8305],{49592:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var r=n(74848),s=n(28453);const i={},c="Concepts",o={id:"sdk/trigger/concepts",title:"concepts",description:"\x3c!--",source:"@site/docs/sdk/trigger/01_concepts.md",sourceDirName:"sdk/trigger",slug:"/sdk/trigger/concepts",permalink:"/docs/sdk/trigger/concepts",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"documentationSidebar",previous:{title:"x/trigger",permalink:"/docs/sdk/trigger/"},next:{title:"state",permalink:"/docs/sdk/trigger/state"}},d={},l=[{value:"Trigger",id:"trigger",level:2},{value:"Actions",id:"actions",level:2},{value:"Gas Payment",id:"gas-payment",level:2},{value:"Block Event",id:"block-event",level:2},{value:"Transaction Event",id:"transaction-event",level:3},{value:"Block Height Events",id:"block-height-events",level:3},{value:"Block Time Event",id:"block-time-event",level:3},{value:"Queued Trigger",id:"queued-trigger",level:2}];function a(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"concepts",children:"Concepts"})}),"\n",(0,r.jsxs)(t.p,{children:["The trigger module allows users to delay the execution of a message until an event is detected. Users should have a strong understanding of what a ",(0,r.jsx)(t.code,{children:"Trigger"}),", ",(0,r.jsx)(t.code,{children:"Event"}),", ",(0,r.jsx)(t.code,{children:"Queued Trigger"})," are, and how ",(0,r.jsx)(t.code,{children:"Payment"})," works before using this module."]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"#trigger",children:"Trigger"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"#actions",children:"Actions"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"#gas-payment",children:"Gas Payment"})}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"#block-event",children:"Block Event"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"#transaction-event",children:"Transaction Event"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"#block-height-events",children:"Block Height Events"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"#block-time-event",children:"Block Time Event"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"#queued-trigger",children:"Queued Trigger"})}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"trigger",children:"Trigger"}),"\n",(0,r.jsxs)(t.p,{children:["A ",(0,r.jsx)(t.code,{children:"Trigger"})," is an address owned object that registers to a ",(0,r.jsx)(t.code,{children:"Block Event"}),", and then proceeds to fire off its ",(0,r.jsx)(t.code,{children:"Actions"})," when that ",(0,r.jsx)(t.code,{children:"Block Event"})," has been detected by the system. A ",(0,r.jsx)(t.code,{children:"Trigger"})," is single-shot, and it will automatically be destroyed after its ",(0,r.jsx)(t.code,{children:"Block Event"})," has been detected."]}),"\n",(0,r.jsx)(t.h2,{id:"actions",children:"Actions"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"Actions"})," are one or more messages that should be invoked. Every ",(0,r.jsx)(t.code,{children:"Action"})," follows the same rules as a sdk message and requires purchased gas to run. See the ",(0,r.jsx)(t.code,{children:"Gas Payment"})," section for more information."]}),"\n",(0,r.jsx)(t.h2,{id:"gas-payment",children:"Gas Payment"}),"\n",(0,r.jsxs)(t.p,{children:["Gas is vital in running the ",(0,r.jsx)(t.code,{children:"Actions"}),", and in order to simplify the system as much as possible we leave it up to the user to calculate gas usage. When a user creates a ",(0,r.jsx)(t.code,{children:"Trigger"})," they are required to purchase gas for the transaction AND the ",(0,r.jsx)(t.code,{children:"Actions"}),". The remaining gas that is not used by the creation transaction will be rolled into a gas meter for the ",(0,r.jsx)(t.code,{children:"Actions"}),". These ",(0,r.jsx)(t.code,{children:"Actions"})," will only run and update state if their is enough allocated gas."]}),"\n",(0,r.jsx)(t.h2,{id:"block-event",children:"Block Event"}),"\n",(0,r.jsxs)(t.p,{children:["A ",(0,r.jsx)(t.code,{children:"Block Event"})," is a blanket term that refers to events that occur during the creation of a block. The ",(0,r.jsx)(t.code,{children:"Trigger"})," module currently supports ",(0,r.jsx)(t.code,{children:"Transaction Events"}),", ",(0,r.jsx)(t.code,{children:"Block Height Events"}),", and ",(0,r.jsx)(t.code,{children:"Block Time Events"}),"."]}),"\n",(0,r.jsx)(t.h3,{id:"transaction-event",children:"Transaction Event"}),"\n",(0,r.jsxs)(t.p,{children:["These type of events refer to the ",(0,r.jsx)(t.code,{children:"ABCI Events"})," that are emitted by the ",(0,r.jsx)(t.code,{children:"DeliverTx"})," transactions. An ",(0,r.jsx)(t.code,{children:"ABCI Event"})," must have the same ",(0,r.jsx)(t.code,{children:"Type"})," and ",(0,r.jsx)(t.code,{children:"Attributes"})," as the user defined ",(0,r.jsx)(t.code,{children:"Transaction Event"})," for the event criteria to be met. A user defined ",(0,r.jsx)(t.code,{children:"Attribute"})," with an empty ",(0,r.jsx)(t.code,{children:"Value"})," will always match as long as the ",(0,r.jsx)(t.code,{children:"Attribute Name"})," field matches."]}),"\n",(0,r.jsx)(t.h3,{id:"block-height-events",children:"Block Height Events"}),"\n",(0,r.jsxs)(t.p,{children:["These type of events refer to the ",(0,r.jsx)(t.code,{children:"Block Height"})," on a newly created block. The ",(0,r.jsx)(t.code,{children:"Block Height"})," must be greater than or equal to the defined value for the event criteria to be met."]}),"\n",(0,r.jsx)(t.h3,{id:"block-time-event",children:"Block Time Event"}),"\n",(0,r.jsxs)(t.p,{children:["These type of events refer to the ",(0,r.jsx)(t.code,{children:"Block Time"})," on a newly created block. The ",(0,r.jsx)(t.code,{children:"Block Time"})," must be greater than or equal to the defined value for the event criteria to be met."]}),"\n",(0,r.jsx)(t.h2,{id:"queued-trigger",children:"Queued Trigger"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"Queued Trigger"})," is a ",(0,r.jsx)(t.code,{children:"Trigger"})," that is ready to have its actions be executed at a future block."]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>o});var r=n(96540);const s={},i=r.createContext(s);function c(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);