"use strict";(self.webpackChunkprovenance_blockchain_developer_portal=self.webpackChunkprovenance_blockchain_developer_portal||[]).push([[969],{6602:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>r,default:()=>l,frontMatter:()=>o,metadata:()=>c,toc:()=>p});var a=t(5893),s=t(1151);const o={},r="Data Retrieval",c={id:"pb/p8e/p8e-usage/data-retrieval",title:"Data Retrieval",description:"As previously mentioned, executed contracts will have their resulting hashes saved to EOS, and resulting scopes memorialized to Provenance Blockchain. The mechanism used to convert Provenance Blockchain scopes into their original data is referred to hydration within the SDK. This process is straightforward, it parses the protobuf datatypes and hashes from the Provenance Blockchain scope and pulls the objects associated with those hashes from EOS. Assuming they have the correct permission to pull and decrypt those objects, the raw bytes can be converted into their associated datatype and returned.",source:"@site/docs/pb/p8e/p8e-usage/data-retrieval.md",sourceDirName:"pb/p8e/p8e-usage",slug:"/pb/p8e/p8e-usage/data-retrieval",permalink:"/docs/pb/p8e/p8e-usage/data-retrieval",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Building New BlockVault Contracts",permalink:"/docs/pb/p8e/p8e-usage/building-new-contracts"},next:{title:"Cross Scope (Update) Contract",permalink:"/docs/pb/p8e/p8e-usage/cross-scope-contract-example"}},i={},p=[];function d(e){const n={code:"code",h1:"h1",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"data-retrieval",children:"Data Retrieval"}),"\n",(0,a.jsx)(n.p,{children:"As previously mentioned, executed contracts will have their resulting hashes saved to EOS, and resulting scopes memorialized to Provenance Blockchain. The mechanism used to convert Provenance Blockchain scopes into their original data is referred to hydration within the SDK. This process is straightforward, it parses the protobuf datatypes and hashes from the Provenance Blockchain scope and pulls the objects associated with those hashes from EOS. Assuming they have the correct permission to pull and decrypt those objects, the raw bytes can be converted into their associated datatype and returned."}),"\n",(0,a.jsx)(n.p,{children:"A subset of a Provenance Blockchain scope is provided to show the relationship between EOS and Provenance Blockchain."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'records:\n- record:\n    inputs:\n    - hash: s+siKv96ekn8y22I79zjWHIfJRmnZFC18q1rZ0vgvhM=\n      name: name\n      status: RECORD_INPUT_STATUS_PROPOSED\n      type_name: io.p8e.proto.example.HelloWorldExample$ExampleName\n    name: name\n    outputs:\n    - hash: vpb21hMS23JTPYqtW9BN3c5/DT1Z4bgRLFJFTnRQAc0=\n      status: RESULT_STATUS_PASS\n    process:\n      hash: Qc2bHdrg+3LxlItTZSbzhJnUn5Btha0LCXaiSk34Hhk=\n      method: name\n      name: io.p8e.proto.example.HelloWorldExample$ExampleName\n    session_id: session1q8dkpadudgr5fq5zaejt8c2w44l4s23wjztxqjg63qkfq7kzu7glzyuppf2\n    specification_id: recspec1qhvwfpz7d96gwrahg6qfdhx4kssg9g6n0lcdhnn7as6ad8ku8gvfu526tn4\nscope:\n  scope:\n    data_access: []\n    owners:\n    - address: tp1vz99nyd2er8myeugsr4xm5duwhulhp5arsr9wt\n      role: PARTY_TYPE_OWNER\n    scope_id: scope1qrdkpadudgr5fq5zaejt8c2w44ls30k6p6\n    specification_id: scopespec1qjkyp28sldx5r9ueaxqc5adrc5wszy6nsh\n    value_owner_address: ""\nsessions:\n- contract_spec_id_info:\n    contract_spec_addr: contractspec1q0vwfpz7d96gwrahg6qfdhx4kssq7kz46e\n    contract_spec_id: contractspec1q0vwfpz7d96gwrahg6qfdhx4kssq7kz46e\n    contract_spec_uuid: d8e4845e-6974-870f-b746-8096dcd5b420\n  session:\n    audit:\n      created_by: tp1vz99nyd2er8myeugsr4xm5duwhulhp5arsr9wt\n      created_date: "2021-09-10T17:29:48.987310700Z"\n      message: ""\n      updated_by: ""\n      updated_date: "0001-01-01T00:00:00Z"\n      version: 1\n    context: null\n    name: io.p8e.contracts.examplekotlin.HelloWorldContract\n    parties:\n    - address: tp1vz99nyd2er8myeugsr4xm5duwhulhp5arsr9wt\n      role: PARTY_TYPE_OWNER\n    session_id: session1q8dkpadudgr5fq5zaejt8c2w44l4s23wjztxqjg63qkfq7kzu7glzyuppf2\n    specification_id: contractspec1q0vwfpz7d96gwrahg6qfdhx4kssq7kz46e\n'})}),"\n",(0,a.jsx)(n.p,{children:"The associated contract that would produce such a scope."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-kotlin",children:'@Participants(roles = [OWNER])\n@ScopeSpecification(names = ["io.p8e.contracts.examplekotlin.helloWorld"])\nopen class HelloWorldContract(): P8eContract() {\n    @Function(invokedBy = OWNER)\n    @Record(name = "name")\n    open fun name(@Input(name = "name") name: ExampleName) =\n        name.toBuilder()\n            .setFirstName(name.firstName.plus("-hello"))\n            .setLastName(name.lastName.plus("-world"))\n            .build()\n}\n\n@ScopeSpecificationDefinition(\n    uuid = "<UUID>",\n    name = "io.p8e.contracts.examplekotlin.helloWorld",\n    description = "A generic scope that allows for a lot of example hello world contracts.",\n    partiesInvolved = [OWNER],\n)\nopen class HelloWorldScopeSpecification() : P8eScopeSpecification()\n'})}),"\n",(0,a.jsx)(n.p,{children:"Lastly, the associated protobuf definition."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'option java_package = "io.p8e.proto.example";\noption java_outer_classname = "HelloWorldExample";\n\nmessage ExampleName {\n    string first_name = 1;\n    string last_name = 2;\n    string middle_name = 3;\n    string prefix = 4;\n    string suffix = 5;\n}\n'})})]})}function l(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>c,a:()=>r});var a=t(7294);const s={},o=a.createContext(s);function r(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);