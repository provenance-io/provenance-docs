"use strict";(self.webpackChunkprovenance_blockchain_developer_portal=self.webpackChunkprovenance_blockchain_developer_portal||[]).push([[3794],{70412:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var s=r(85893),t=r(11151);const o={},i="Exchange Messages",a={id:"sdk/exchange/messages",title:"Exchange Messages",description:"The exchange module has Msg endpoints for users, markets, and governance proposals.",source:"@site/docs/sdk/exchange/03_messages.md",sourceDirName:"sdk/exchange",slug:"/sdk/exchange/messages",permalink:"/docs/sdk/exchange/messages",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Exchange State",permalink:"/docs/sdk/exchange/state"},next:{title:"Exchange Events",permalink:"/docs/sdk/exchange/events"}},d={},c=[{value:"User Endpoints",id:"user-endpoints",level:2},{value:"CreateAsk",id:"createask",level:3},{value:"MsgCreateAskRequest",id:"msgcreateaskrequest",level:4},{value:"AskOrder",id:"askorder",level:4},{value:"MsgCreateAskResponse",id:"msgcreateaskresponse",level:4},{value:"CreateBid",id:"createbid",level:3},{value:"MsgCreateBidRequest",id:"msgcreatebidrequest",level:4},{value:"BidOrder",id:"bidorder",level:4},{value:"MsgCreateBidResponse",id:"msgcreatebidresponse",level:4},{value:"CancelOrder",id:"cancelorder",level:3},{value:"MsgCancelOrderRequest",id:"msgcancelorderrequest",level:4},{value:"MsgCancelOrderResponse",id:"msgcancelorderresponse",level:4},{value:"FillBids",id:"fillbids",level:3},{value:"MsgFillBidsRequest",id:"msgfillbidsrequest",level:4},{value:"MsgFillBidsResponse",id:"msgfillbidsresponse",level:4},{value:"FillAsks",id:"fillasks",level:3},{value:"MsgFillAsksRequest",id:"msgfillasksrequest",level:4},{value:"MsgFillAsksResponse",id:"msgfillasksresponse",level:4},{value:"Market Endpoints",id:"market-endpoints",level:2},{value:"MarketSettle",id:"marketsettle",level:3},{value:"MsgMarketSettleRequest",id:"msgmarketsettlerequest",level:4},{value:"MsgMarketSettleResponse",id:"msgmarketsettleresponse",level:4},{value:"MarketSetOrderExternalID",id:"marketsetorderexternalid",level:3},{value:"MsgMarketSetOrderExternalIDRequest",id:"msgmarketsetorderexternalidrequest",level:4},{value:"MsgMarketSetOrderExternalIDResponse",id:"msgmarketsetorderexternalidresponse",level:4},{value:"MarketWithdraw",id:"marketwithdraw",level:3},{value:"MsgMarketWithdrawRequest",id:"msgmarketwithdrawrequest",level:4},{value:"MsgMarketWithdrawResponse",id:"msgmarketwithdrawresponse",level:4},{value:"MarketUpdateDetails",id:"marketupdatedetails",level:3},{value:"MsgMarketUpdateDetailsRequest",id:"msgmarketupdatedetailsrequest",level:4},{value:"MsgMarketUpdateDetailsResponse",id:"msgmarketupdatedetailsresponse",level:4},{value:"MarketUpdateEnabled",id:"marketupdateenabled",level:3},{value:"MsgMarketUpdateEnabledRequest",id:"msgmarketupdateenabledrequest",level:4},{value:"MsgMarketUpdateEnabledResponse",id:"msgmarketupdateenabledresponse",level:4},{value:"MarketUpdateUserSettle",id:"marketupdateusersettle",level:3},{value:"MsgMarketUpdateUserSettleRequest",id:"msgmarketupdateusersettlerequest",level:4},{value:"MsgMarketUpdateUserSettleResponse",id:"msgmarketupdateusersettleresponse",level:4},{value:"MarketManagePermissions",id:"marketmanagepermissions",level:3},{value:"MsgMarketManagePermissionsRequest",id:"msgmarketmanagepermissionsrequest",level:4},{value:"MsgMarketManagePermissionsResponse",id:"msgmarketmanagepermissionsresponse",level:4},{value:"MarketManageReqAttrs",id:"marketmanagereqattrs",level:3},{value:"MsgMarketManageReqAttrsRequest",id:"msgmarketmanagereqattrsrequest",level:4},{value:"MsgMarketManageReqAttrsResponse",id:"msgmarketmanagereqattrsresponse",level:4},{value:"Governance Proposals",id:"governance-proposals",level:2},{value:"GovCreateMarket",id:"govcreatemarket",level:3},{value:"MsgGovCreateMarketRequest",id:"msggovcreatemarketrequest",level:4},{value:"Market",id:"market",level:4},{value:"MarketDetails",id:"marketdetails",level:4},{value:"FeeRatio",id:"feeratio",level:4},{value:"AccessGrant",id:"accessgrant",level:4},{value:"Permission",id:"permission",level:4},{value:"MsgGovCreateMarketResponse",id:"msggovcreatemarketresponse",level:4},{value:"GovManageFees",id:"govmanagefees",level:3},{value:"MsgGovManageFeesRequest",id:"msggovmanagefeesrequest",level:4},{value:"MsgGovManageFeesResponse",id:"msggovmanagefeesresponse",level:4},{value:"GovUpdateParams",id:"govupdateparams",level:3},{value:"MsgGovUpdateParamsRequest",id:"msggovupdateparamsrequest",level:4},{value:"MsgGovUpdateParamsResponse",id:"msggovupdateparamsresponse",level:4}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"exchange-messages",children:"Exchange Messages"}),"\n",(0,s.jsxs)(n.p,{children:["The exchange module has ",(0,s.jsx)(n.code,{children:"Msg"})," endpoints for users, markets, and governance proposals."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#user-endpoints",children:"User Endpoints"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#createask",children:"CreateAsk"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#createbid",children:"CreateBid"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#cancelorder",children:"CancelOrder"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#fillbids",children:"FillBids"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#fillasks",children:"FillAsks"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#market-endpoints",children:"Market Endpoints"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#marketsettle",children:"MarketSettle"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#marketsetorderexternalid",children:"MarketSetOrderExternalID"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#marketwithdraw",children:"MarketWithdraw"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#marketupdatedetails",children:"MarketUpdateDetails"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#marketupdateenabled",children:"MarketUpdateEnabled"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#marketupdateusersettle",children:"MarketUpdateUserSettle"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#marketmanagepermissions",children:"MarketManagePermissions"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#marketmanagereqattrs",children:"MarketManageReqAttrs"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#governance-proposals",children:"Governance Proposals"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#govcreatemarket",children:"GovCreateMarket"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#govmanagefees",children:"GovManageFees"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#govupdateparams",children:"GovUpdateParams"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"user-endpoints",children:"User Endpoints"}),"\n",(0,s.jsx)(n.p,{children:"There are several endpoints available for all users, but some markets might have restrictions on their use."}),"\n",(0,s.jsx)(n.h3,{id:"createask",children:"CreateAsk"}),"\n",(0,s.jsxs)(n.p,{children:["An ask order indicates the desire to sell some ",(0,s.jsx)(n.code,{children:"assets"})," at a minimum ",(0,s.jsx)(n.code,{children:"price"}),".\nThey are created using the ",(0,s.jsx)(n.code,{children:"CreateAsk"})," endpoint."]}),"\n",(0,s.jsxs)(n.p,{children:["Markets can define a set of attributes that an account must have in order to create ask orders in them.\nSo, this endpoint might not be available, depending on the ",(0,s.jsx)(n.code,{children:"seller"})," and the ",(0,s.jsx)(n.code,{children:"market_id"}),".\nMarkets can also disable order creation altogether, making this endpoint unavailable for that ",(0,s.jsx)(n.code,{children:"market_id"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"market_id"})," does not exist."]}),"\n",(0,s.jsx)(n.li,{children:"The market is not allowing orders to be created."}),"\n",(0,s.jsxs)(n.li,{children:["The market requires attributes in order to create ask orders and the ",(0,s.jsx)(n.code,{children:"seller"})," is missing one or more."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"assets"})," are not in the ",(0,s.jsx)(n.code,{children:"seller"}),"'s account."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"price"})," is in a denom not supported by the market."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"seller_settlement_flat_fee"})," is in a denom different from the ",(0,s.jsx)(n.code,{children:"price"}),", and is not in the ",(0,s.jsx)(n.code,{children:"seller"}),"'s account."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"seller_settlement_flat_fee"})," is insufficient (as dictated by the market)."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"external_id"})," value is not empty and is already in use in the market."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"order_creation_fee"})," is not in the ",(0,s.jsx)(n.code,{children:"seller"}),"'s account."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msgcreateaskrequest",children:"MsgCreateAskRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L68-L76",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L68-L76"})]}),"\n",(0,s.jsx)(n.h4,{id:"askorder",children:"AskOrder"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/orders.proto#L28-L53",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/orders.proto#L28-L53"})]}),"\n",(0,s.jsx)(n.h4,{id:"msgcreateaskresponse",children:"MsgCreateAskResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L78-L82",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L78-L82"})]}),"\n",(0,s.jsx)(n.h3,{id:"createbid",children:"CreateBid"}),"\n",(0,s.jsxs)(n.p,{children:["A bid order indicates the desire to buy some ",(0,s.jsx)(n.code,{children:"assets"})," at a specific ",(0,s.jsx)(n.code,{children:"price"}),".\nThey are created using the ",(0,s.jsx)(n.code,{children:"CreateBid"})," endpoint."]}),"\n",(0,s.jsxs)(n.p,{children:["Markets can define a set of attributes that an account must have in order to create bid orders in them.\nSo, this endpoint might not be available, depending on the ",(0,s.jsx)(n.code,{children:"buyer"})," and the ",(0,s.jsx)(n.code,{children:"market_id"}),".\nMarkets can also disable order creation altogether, making this endpoint unavailable for that ",(0,s.jsx)(n.code,{children:"market_id"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"market_id"})," does not exist."]}),"\n",(0,s.jsx)(n.li,{children:"The market is not allowing orders to be created."}),"\n",(0,s.jsxs)(n.li,{children:["The market requires attributes in order to create bid orders and the ",(0,s.jsx)(n.code,{children:"buyer"})," is missing one or more."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"price"})," funds are not in the ",(0,s.jsx)(n.code,{children:"buyer"}),"'s account."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"price"})," is in a denom not supported by the market."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"buyer_settlement_fees"})," are not in the ",(0,s.jsx)(n.code,{children:"buyer"}),"'s account."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"buyer_settlement_fees"})," are insufficient (as dictated by the market)."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"external_id"})," value is not empty and is already in use in the market."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"order_creation_fee"})," is not in the ",(0,s.jsx)(n.code,{children:"buyer"}),"'s account."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msgcreatebidrequest",children:"MsgCreateBidRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L84-L92",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L84-L92"})]}),"\n",(0,s.jsx)(n.h4,{id:"bidorder",children:"BidOrder"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/orders.proto#L55-L78",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/orders.proto#L55-L78"})]}),"\n",(0,s.jsx)(n.h4,{id:"msgcreatebidresponse",children:"MsgCreateBidResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L94-L98",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L94-L98"})]}),"\n",(0,s.jsx)(n.h3,{id:"cancelorder",children:"CancelOrder"}),"\n",(0,s.jsxs)(n.p,{children:["Orders can be cancelled using the ",(0,s.jsx)(n.code,{children:"CancelOrder"})," endpoint.\nWhen an order is cancelled, the hold on its funds is released and the order is deleted."]}),"\n",(0,s.jsxs)(n.p,{children:["Users can cancel their own orders at any time.\nMarket actors with the ",(0,s.jsx)(n.code,{children:"PERMISSION_CANCEL"})," permission can also cancel orders in that market at any time."]}),"\n",(0,s.jsxs)(n.p,{children:["Order creation fees are ",(0,s.jsx)(n.strong,{children:"not"})," refunded when an order is cancelled."]}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The order does not exist."}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"signer"})," is not one of:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The order's owner (e.g. ",(0,s.jsx)(n.code,{children:"buyer"})," or ",(0,s.jsx)(n.code,{children:"seller"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:["An account with ",(0,s.jsx)(n.code,{children:"PERMISSION_CANCEL"})," in the order's market."]}),"\n",(0,s.jsxs)(n.li,{children:["The governance module account (",(0,s.jsx)(n.code,{children:"authority"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msgcancelorderrequest",children:"MsgCancelOrderRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L100-L110",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L100-L110"})]}),"\n",(0,s.jsx)(n.h4,{id:"msgcancelorderresponse",children:"MsgCancelOrderResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L112-L113",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L112-L113"})]}),"\n",(0,s.jsx)(n.h3,{id:"fillbids",children:"FillBids"}),"\n",(0,s.jsxs)(n.p,{children:["If a market allows user-settlement, users can use the ",(0,s.jsx)(n.code,{children:"FillBids"})," endpoint to settle one or more bids with their own ",(0,s.jsx)(n.code,{children:"assets"}),'.\nThis is similar to an "Immediate or cancel" ',(0,s.jsx)(n.code,{children:"AskOrder"})," with the sum of the provided bids' assets and prices.\nFees are paid the same as if an ",(0,s.jsx)(n.code,{children:"AskOrder"})," were actually created and settled normally with the provided bids.\nThe ",(0,s.jsx)(n.code,{children:"seller"})," must be allowed to create an ",(0,s.jsx)(n.code,{children:"AskOrder"})," in the given market."]}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The market does not exist."}),"\n",(0,s.jsx)(n.li,{children:"The market is not allowing orders to be created."}),"\n",(0,s.jsx)(n.li,{children:"The market does not allow user-settlement."}),"\n",(0,s.jsxs)(n.li,{children:["The market requires attributes in order to create ask orders and the ",(0,s.jsx)(n.code,{children:"seller"})," is missing one or more."]}),"\n",(0,s.jsxs)(n.li,{children:["One or more ",(0,s.jsx)(n.code,{children:"bid_order_ids"})," are not bid orders (or do not exist)."]}),"\n",(0,s.jsxs)(n.li,{children:["One or more ",(0,s.jsx)(n.code,{children:"bid_order_ids"})," are in a market other than the provided ",(0,s.jsx)(n.code,{children:"market_id"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"total_assets"})," are not in the ",(0,s.jsx)(n.code,{children:"seller"}),"'s account."]}),"\n",(0,s.jsxs)(n.li,{children:["The sum of bid order ",(0,s.jsx)(n.code,{children:"assets"})," does not equal the provided ",(0,s.jsx)(n.code,{children:"total_assets"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"seller"})," or one of the ",(0,s.jsx)(n.code,{children:"buyer"}),"s are sanctioned, or are not allowed to possess the funds they are to receive."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"seller_settlement_flat_fee"})," is insufficient."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"seller_settlement_flat_fee"})," is not in the ",(0,s.jsx)(n.code,{children:"seller"}),"'s account (after ",(0,s.jsx)(n.code,{children:"assets"})," and ",(0,s.jsx)(n.code,{children:"price"})," funds have been transferred)."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"ask_order_creation_fee"})," is insufficient."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"ask_order_creation_fee"})," is not in the ",(0,s.jsx)(n.code,{children:"seller"}),"'s account (after all other transfers have been made)."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msgfillbidsrequest",children:"MsgFillBidsRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L115-L135",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L115-L135"})]}),"\n",(0,s.jsx)(n.h4,{id:"msgfillbidsresponse",children:"MsgFillBidsResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L137-L138",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L137-L138"})]}),"\n",(0,s.jsx)(n.h3,{id:"fillasks",children:"FillAsks"}),"\n",(0,s.jsxs)(n.p,{children:["If a market allows user-settlement, users can use the ",(0,s.jsx)(n.code,{children:"FillAsks"}),' endpoint to settle one or more asks with their own price funds.\nThis is similar to an "Immediate or cancel" ',(0,s.jsx)(n.code,{children:"BidOrder"})," with the sum of the provided asks' assets and prices.\nFees are paid the same as if a ",(0,s.jsx)(n.code,{children:"BidOrder"})," were actually created and settled normally with the provided asks.\nThe ",(0,s.jsx)(n.code,{children:"buyer"})," must be allowed to create a ",(0,s.jsx)(n.code,{children:"BidOrder"})," in the given market."]}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The market does not exist."}),"\n",(0,s.jsx)(n.li,{children:"The market is not allowing orders to be created."}),"\n",(0,s.jsx)(n.li,{children:"The market does not allow user-settlement."}),"\n",(0,s.jsxs)(n.li,{children:["The market requires attributes in order to create bid orders and the ",(0,s.jsx)(n.code,{children:"buyer"})," is missing one or more."]}),"\n",(0,s.jsxs)(n.li,{children:["One or more ",(0,s.jsx)(n.code,{children:"ask_order_ids"})," are not ask orders (or do not exist)."]}),"\n",(0,s.jsxs)(n.li,{children:["One or more ",(0,s.jsx)(n.code,{children:"ask_order_ids"})," are in a market other than the provided ",(0,s.jsx)(n.code,{children:"market_id"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"total_price"})," funds are not in the ",(0,s.jsx)(n.code,{children:"buyer"}),"'s account."]}),"\n",(0,s.jsxs)(n.li,{children:["The sum of ask order ",(0,s.jsx)(n.code,{children:"price"}),"s does not equal the provided ",(0,s.jsx)(n.code,{children:"total_price"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"buyer"})," or one of the ",(0,s.jsx)(n.code,{children:"seller"}),"s are sanctioned, or are not allowed to possess the funds they are to receive."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"buyer_settlement_fees"})," are insufficient."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"buyer_settlement_fees"})," are not in the ",(0,s.jsx)(n.code,{children:"buyer"}),"'s account (after ",(0,s.jsx)(n.code,{children:"assets"})," and ",(0,s.jsx)(n.code,{children:"price"})," funds have been transferred)."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"bid_order_creation_fee"})," is insufficient."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"bid_order_creation_fee"})," is not in the ",(0,s.jsx)(n.code,{children:"buyer"}),"'s account (after all other transfers have been made)."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msgfillasksrequest",children:"MsgFillAsksRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L140-L161",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L140-L161"})]}),"\n",(0,s.jsx)(n.h4,{id:"msgfillasksresponse",children:"MsgFillAsksResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L163-L164",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L163-L164"})]}),"\n",(0,s.jsx)(n.h2,{id:"market-endpoints",children:"Market Endpoints"}),"\n",(0,s.jsxs)(n.p,{children:["Several endpoints are only available to accounts designated by the market.\nThese are all also available for use in governance proposals using the governance module account (aka ",(0,s.jsx)(n.code,{children:"authority"}),") as the ",(0,s.jsx)(n.code,{children:"admin"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"marketsettle",children:"MarketSettle"}),"\n",(0,s.jsxs)(n.p,{children:["Orders are settled using the ",(0,s.jsx)(n.code,{children:"MarketSettle"})," endpoint.\nThe ",(0,s.jsx)(n.code,{children:"admin"})," must have the ",(0,s.jsx)(n.code,{children:"PERMISSION_SETTLE"})," permission in the market (or be the ",(0,s.jsx)(n.code,{children:"authority"}),")."]}),"\n",(0,s.jsx)(n.p,{children:"The market is responsible for identifying order matches.\nOnce identified, this endpoint is used to settle and clear the matched orders."}),"\n",(0,s.jsx)(n.p,{children:"All orders in a settlement must have the same asset denom and the same price denom."}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The market does not exist."}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"admin"})," does not have ",(0,s.jsx)(n.code,{children:"PERMISSION_SETTLE"})," in the market, and is not the ",(0,s.jsx)(n.code,{children:"authority"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["One or more ",(0,s.jsx)(n.code,{children:"ask_order_ids"})," are not ask orders, or do not exist, or are in a market other than the provided ",(0,s.jsx)(n.code,{children:"market_id"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["One or more ",(0,s.jsx)(n.code,{children:"bid_order_ids"})," are not bid orders, or do not exist, or are in a market other than the provided ",(0,s.jsx)(n.code,{children:"market_id"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["There is more than one denom in the ",(0,s.jsx)(n.code,{children:"assets"})," of all the provided orders."]}),"\n",(0,s.jsxs)(n.li,{children:["There is more than one denom in the ",(0,s.jsx)(n.code,{children:"price"})," of all the provided orders."]}),"\n",(0,s.jsxs)(n.li,{children:["The market requires a seller settlement ratio fee, but there is no ratio defined for the ",(0,s.jsx)(n.code,{children:"price"})," denom."]}),"\n",(0,s.jsx)(n.li,{children:"Two or more orders are being partially filled."}),"\n",(0,s.jsxs)(n.li,{children:["One or more orders cannot be filled at all with the ",(0,s.jsx)(n.code,{children:"assets"})," or ",(0,s.jsx)(n.code,{children:"price"})," funds available in the settlement."]}),"\n",(0,s.jsxs)(n.li,{children:["An order is being partially filled, but ",(0,s.jsx)(n.code,{children:"expect_partial"})," is ",(0,s.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["All orders are being filled in full, but ",(0,s.jsx)(n.code,{children:"expect_partial"})," is ",(0,s.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["One or more of the ",(0,s.jsx)(n.code,{children:"buyer"}),"s and ",(0,s.jsx)(n.code,{children:"seller"}),"s are sanctioned, or are not allowed to possess the funds they are to receive."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketsettlerequest",children:"MsgMarketSettleRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L166-L183",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L166-L183"})]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketsettleresponse",children:"MsgMarketSettleResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L185-L186",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L185-L186"})]}),"\n",(0,s.jsx)(n.h3,{id:"marketsetorderexternalid",children:"MarketSetOrderExternalID"}),"\n",(0,s.jsxs)(n.p,{children:["Some markets might want to attach their own identifiers to orders.\nThis is done using the ",(0,s.jsx)(n.code,{children:"MarketSetOrderExternalID"})," endpoint.\nThe ",(0,s.jsx)(n.code,{children:"admin"})," must have the ",(0,s.jsx)(n.code,{children:"PERMISSION_SET_IDS"})," permission in the market (or be the ",(0,s.jsx)(n.code,{children:"authority"}),")."]}),"\n",(0,s.jsxs)(n.p,{children:["Orders with external ids can be looked up using the ",(0,s.jsx)(n.a,{href:"/docs/sdk/exchange/queries#getorderbyexternalid",children:"GetOrderByExternalID"})," query."]}),"\n",(0,s.jsx)(n.p,{children:"External ids must be unique in a market, but multiple markets can use the same external id."}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The market does not exist."}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"admin"})," does not have ",(0,s.jsx)(n.code,{children:"PERMISSION_SET_IDS"})," in the market, and is not the ",(0,s.jsx)(n.code,{children:"authority"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["The order does not exist, or is in a different market than the provided ",(0,s.jsx)(n.code,{children:"market_id"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["The provided ",(0,s.jsx)(n.code,{children:"external_id"})," equals the order's current ",(0,s.jsx)(n.code,{children:"external_id"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["The provided ",(0,s.jsx)(n.code,{children:"external_id"})," is already associated with another order in the same market."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketsetorderexternalidrequest",children:"MsgMarketSetOrderExternalIDRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L188-L202",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L188-L202"})]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketsetorderexternalidresponse",children:"MsgMarketSetOrderExternalIDResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L204-L205",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L204-L205"})]}),"\n",(0,s.jsx)(n.h3,{id:"marketwithdraw",children:"MarketWithdraw"}),"\n",(0,s.jsxs)(n.p,{children:["When fees are collected by a market, they are given to the market's account.\nThose funds can then be withdrawn/transferred using the ",(0,s.jsx)(n.code,{children:"MarketWithdraw"})," endpoint.\nThe ",(0,s.jsx)(n.code,{children:"admin"})," must have the ",(0,s.jsx)(n.code,{children:"PERMISSION_WITHDRAW"})," permission in the market (or be the ",(0,s.jsx)(n.code,{children:"authority"}),")."]}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The market does not exist."}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"admin"})," does not have ",(0,s.jsx)(n.code,{children:"PERMISSION_WITHDRAW"})," in the market, and is not the ",(0,s.jsx)(n.code,{children:"authority"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"amount"})," funds are not in the market's account."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"to_address"})," is not allowed to possess the requested funds."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketwithdrawrequest",children:"MsgMarketWithdrawRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L207-L221",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L207-L221"})]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketwithdrawresponse",children:"MsgMarketWithdrawResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L223-L224",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L223-L224"})]}),"\n",(0,s.jsx)(n.h3,{id:"marketupdatedetails",children:"MarketUpdateDetails"}),"\n",(0,s.jsxs)(n.p,{children:["A market's details can be updated using the ",(0,s.jsx)(n.code,{children:"MarketUpdateDetails"})," endpoint.\nThe ",(0,s.jsx)(n.code,{children:"admin"})," must have the ",(0,s.jsx)(n.code,{children:"PERMISSION_UPDATE"})," permission in the market (or be the ",(0,s.jsx)(n.code,{children:"authority"}),")."]}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The market does not exist."}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"admin"})," does not have ",(0,s.jsx)(n.code,{children:"PERMISSION_UPDATE"})," in the market, and is not the ",(0,s.jsx)(n.code,{children:"authority"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["One or more of the ",(0,s.jsx)(n.a,{href:"#marketdetails",children:"MarketDetails"})," fields is too large."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketupdatedetailsrequest",children:"MsgMarketUpdateDetailsRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L226-L237",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L226-L237"})]}),"\n",(0,s.jsxs)(n.p,{children:["See also: ",(0,s.jsx)(n.a,{href:"#marketdetails",children:"MarketDetails"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketupdatedetailsresponse",children:"MsgMarketUpdateDetailsResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L239-L240",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L239-L240"})]}),"\n",(0,s.jsx)(n.h3,{id:"marketupdateenabled",children:"MarketUpdateEnabled"}),"\n",(0,s.jsxs)(n.p,{children:["A market can enable or disable order creation using the ",(0,s.jsx)(n.code,{children:"MarketUpdateEnabled"})," endpoint.\nThe ",(0,s.jsx)(n.code,{children:"admin"})," must have the ",(0,s.jsx)(n.code,{children:"PERMISSION_UPDATE"})," permission in the market (or be the ",(0,s.jsx)(n.code,{children:"authority"}),")."]}),"\n",(0,s.jsxs)(n.p,{children:["With ",(0,s.jsx)(n.code,{children:"accepting_orders"})," = ",(0,s.jsx)(n.code,{children:"false"}),", no one can create any new orders in the market, but existing orders can still be settled or cancelled."]}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The market does not exist."}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"admin"})," does not have ",(0,s.jsx)(n.code,{children:"PERMISSION_UPDATE"})," in the market, and is not the ",(0,s.jsx)(n.code,{children:"authority"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["The provided ",(0,s.jsx)(n.code,{children:"accepting_orders"})," value equals the market's current setting."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketupdateenabledrequest",children:"MsgMarketUpdateEnabledRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L242-L253",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L242-L253"})]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketupdateenabledresponse",children:"MsgMarketUpdateEnabledResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L255-L256",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L255-L256"})]}),"\n",(0,s.jsx)(n.h3,{id:"marketupdateusersettle",children:"MarketUpdateUserSettle"}),"\n",(0,s.jsxs)(n.p,{children:["Using the ",(0,s.jsx)(n.code,{children:"MarketUpdateUserSettle"})," endpoint, markets can control whether user-settlement is allowed.\nThe ",(0,s.jsx)(n.code,{children:"admin"})," must have the ",(0,s.jsx)(n.code,{children:"PERMISSION_UPDATE"})," permission in the market (or be the ",(0,s.jsx)(n.code,{children:"authority"}),")."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.a,{href:"#fillbids",children:"FillBids"})," and ",(0,s.jsx)(n.a,{href:"#fillasks",children:"FillAsks"})," endpoints are only available for markets where ",(0,s.jsx)(n.code,{children:"allow_user_settlement"})," = ",(0,s.jsx)(n.code,{children:"true"}),".\nThe ",(0,s.jsx)(n.a,{href:"#marketsettle",children:"MarketSettle"})," endpoint is usable regardless of this setting."]}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The market does not exist."}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"admin"})," does not have ",(0,s.jsx)(n.code,{children:"PERMISSION_UPDATE"})," in the market, and is not the ",(0,s.jsx)(n.code,{children:"authority"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["The provided ",(0,s.jsx)(n.code,{children:"allow_user_settlement"})," value equals the market's current setting."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketupdateusersettlerequest",children:"MsgMarketUpdateUserSettleRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L258-L271",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L258-L271"})]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketupdateusersettleresponse",children:"MsgMarketUpdateUserSettleResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L273-L274",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L273-L274"})]}),"\n",(0,s.jsx)(n.h3,{id:"marketmanagepermissions",children:"MarketManagePermissions"}),"\n",(0,s.jsxs)(n.p,{children:["Permissions in a market are managed using the ",(0,s.jsx)(n.code,{children:"MarketManagePermissions"})," endpoint.\nThe ",(0,s.jsx)(n.code,{children:"admin"})," must have the ",(0,s.jsx)(n.code,{children:"PERMISSION_PERMISSIONS"})," permission in the market (or be the ",(0,s.jsx)(n.code,{children:"authority"}),")."]}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The market does not exist."}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"admin"})," does not have ",(0,s.jsx)(n.code,{children:"PERMISSION_PERMISSIONS"})," in the market, and is not the ",(0,s.jsx)(n.code,{children:"authority"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["One or more ",(0,s.jsx)(n.code,{children:"revoke_all"})," addresses do not currently have any permissions in the market."]}),"\n",(0,s.jsxs)(n.li,{children:["One or more ",(0,s.jsx)(n.code,{children:"to_revoke"})," entries do not currently exist in the market."]}),"\n",(0,s.jsxs)(n.li,{children:["One or more ",(0,s.jsx)(n.code,{children:"to_grant"})," entries already exist in the market (after ",(0,s.jsx)(n.code,{children:"revoke_all"})," and ",(0,s.jsx)(n.code,{children:"to_revoke"})," are processed)."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketmanagepermissionsrequest",children:"MsgMarketManagePermissionsRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L276-L291",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L276-L291"})]}),"\n",(0,s.jsxs)(n.p,{children:["See also: ",(0,s.jsx)(n.a,{href:"#accessgrant",children:"AccessGrant"})," and ",(0,s.jsx)(n.a,{href:"#permission",children:"Permission"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketmanagepermissionsresponse",children:"MsgMarketManagePermissionsResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L293-L295",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L293-L295"})]}),"\n",(0,s.jsx)(n.h3,{id:"marketmanagereqattrs",children:"MarketManageReqAttrs"}),"\n",(0,s.jsxs)(n.p,{children:["The attributes required to create orders in a market can be managed using the ",(0,s.jsx)(n.code,{children:"MarketManageReqAttrs"})," endpoint.\nThe ",(0,s.jsx)(n.code,{children:"admin"})," must have the ",(0,s.jsx)(n.code,{children:"PERMISSION_ATTRIBUTES"})," permission in the market (or be the ",(0,s.jsx)(n.code,{children:"authority"}),")."]}),"\n",(0,s.jsxs)(n.p,{children:["See also: ",(0,s.jsx)(n.a,{href:"#required-attributes",children:"Required Attributes"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The market does not exist."}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"admin"})," does not have ",(0,s.jsx)(n.code,{children:"PERMISSION_ATTRIBUTES"})," in the market, and is not the ",(0,s.jsx)(n.code,{children:"authority"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"One or more attributes to add are already required by the market (for the given order type)."}),"\n",(0,s.jsx)(n.li,{children:"One or more attributes to remove are not currently required by the market (for the given order type)."}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketmanagereqattrsrequest",children:"MsgMarketManageReqAttrsRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L296-L313",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L296-L313"})]}),"\n",(0,s.jsx)(n.h4,{id:"msgmarketmanagereqattrsresponse",children:"MsgMarketManageReqAttrsResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L315-L316",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L315-L316"})]}),"\n",(0,s.jsx)(n.h2,{id:"governance-proposals",children:"Governance Proposals"}),"\n",(0,s.jsx)(n.p,{children:"There are several governance-proposal-only endpoints."}),"\n",(0,s.jsx)(n.h3,{id:"govcreatemarket",children:"GovCreateMarket"}),"\n",(0,s.jsxs)(n.p,{children:["Market creation must be done via governance proposal with a ",(0,s.jsx)(n.code,{children:"MsgGovCreateMarketRequest"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["If the provided ",(0,s.jsx)(n.code,{children:"market_id"})," is ",(0,s.jsx)(n.code,{children:"0"})," (zero), the next available market id will be assigned to the new market.\nIf it is not zero, the provided ",(0,s.jsx)(n.code,{children:"market_id"})," will be used (unless it's already in use by another market).\nIf it's already in use, the proposal will fail."]}),"\n",(0,s.jsxs)(n.p,{children:["It is recommended that the message be checked using the ",(0,s.jsx)(n.a,{href:"/docs/sdk/exchange/queries#validatecreatemarket",children:"ValidateCreateMarket"})," query first, to reduce the risk of failure or problems."]}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The provided ",(0,s.jsx)(n.code,{children:"authority"})," is not the governance module's account."]}),"\n",(0,s.jsxs)(n.li,{children:["The provided ",(0,s.jsx)(n.code,{children:"market_id"})," is not zero, and is already in use by another market."]}),"\n",(0,s.jsxs)(n.li,{children:["One or more of the ",(0,s.jsx)(n.a,{href:"#marketdetails",children:"MarketDetails"})," fields is too large."]}),"\n",(0,s.jsx)(n.li,{children:"One or more required attributes are invalid."}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msggovcreatemarketrequest",children:"MsgGovCreateMarketRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L318-L329",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L318-L329"})]}),"\n",(0,s.jsx)(n.h4,{id:"market",children:"Market"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/market.proto#L52-L103",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/market.proto#L52-L103"})]}),"\n",(0,s.jsx)(n.h4,{id:"marketdetails",children:"MarketDetails"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/market.proto#L28-L40",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/market.proto#L28-L40"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"name"})," is limited to 250 characters max."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"description"})," is limited to 2000 characters max."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"website_url"})," is limited to 200 characters max."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"icon_uri"})," is limited to 2000 characters max."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"feeratio",children:"FeeRatio"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/market.proto#L105-L113",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/market.proto#L105-L113"})]}),"\n",(0,s.jsx)(n.h4,{id:"accessgrant",children:"AccessGrant"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/market.proto#L115-L121",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/market.proto#L115-L121"})]}),"\n",(0,s.jsx)(n.h4,{id:"permission",children:"Permission"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/market.proto#L123-L141",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/market.proto#L123-L141"})]}),"\n",(0,s.jsx)(n.h4,{id:"msggovcreatemarketresponse",children:"MsgGovCreateMarketResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L331-L332",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L331-L332"})]}),"\n",(0,s.jsx)(n.h3,{id:"govmanagefees",children:"GovManageFees"}),"\n",(0,s.jsxs)(n.p,{children:["A market's fees can only be altered via governance proposal with a ",(0,s.jsx)(n.code,{children:"MsgGovManageFeesRequest"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["It is recommended that the message be checked using the ",(0,s.jsx)(n.a,{href:"/docs/sdk/exchange/queries#validatemanagefees",children:"ValidateManageFees"})," query first, to ensure the updated fees do not present any problems."]}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The provided ",(0,s.jsx)(n.code,{children:"authority"})," is not the governance module's account."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msggovmanagefeesrequest",children:"MsgGovManageFeesRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L334-L372",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L334-L372"})]}),"\n",(0,s.jsxs)(n.p,{children:["See also: ",(0,s.jsx)(n.a,{href:"#feeratio",children:"FeeRatio"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"msggovmanagefeesresponse",children:"MsgGovManageFeesResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L374-L375",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L374-L375"})]}),"\n",(0,s.jsx)(n.h3,{id:"govupdateparams",children:"GovUpdateParams"}),"\n",(0,s.jsxs)(n.p,{children:["The exchange module params are updated via governance proposal with a ",(0,s.jsx)(n.code,{children:"MsgGovUpdateParamsRequest"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The provided ",(0,s.jsx)(n.code,{children:"authority"})," is not the governance module's account."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"msggovupdateparamsrequest",children:"MsgGovUpdateParamsRequest"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L377-L386",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L377-L386"})]}),"\n",(0,s.jsxs)(n.p,{children:["See also: ",(0,s.jsx)(n.a,{href:"/docs/sdk/exchange/params#params",children:"Params"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"msggovupdateparamsresponse",children:"MsgGovUpdateParamsResponse"}),"\n",(0,s.jsxs)(n.p,{children:["+++ ",(0,s.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L388-L389",children:"https://github.com/provenance-io/provenance/blob/v1.17.0/proto/provenance/exchange/v1/tx.proto#L388-L389"})]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},11151:(e,n,r)=>{r.d(n,{Z:()=>a,a:()=>i});var s=r(67294);const t={},o=s.createContext(t);function i(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);