"use strict";(self.webpackChunkprovenance_blockchain_developer_portal=self.webpackChunkprovenance_blockchain_developer_portal||[]).push([[5526],{94637:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});var o=s(74848),r=s(28453);const t={},d="Msg Service",i={id:"sdk/quarantine/messages",title:"Msg Service",description:"- Msg/OptIn",source:"@site/docs/sdk/quarantine/03_messages.md",sourceDirName:"sdk/quarantine",slug:"/sdk/quarantine/messages",permalink:"/docs/sdk/quarantine/messages",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"documentationSidebar",previous:{title:"State",permalink:"/docs/sdk/quarantine/state"},next:{title:"Events",permalink:"/docs/sdk/quarantine/events"}},c={},a=[{value:"Msg/OptIn",id:"msgoptin",level:2},{value:"Msg/OptOut",id:"msgoptout",level:2},{value:"Msg/Accept",id:"msgaccept",level:2},{value:"Msg/Decline",id:"msgdecline",level:2},{value:"Msg/UpdateAutoResponses",id:"msgupdateautoresponses",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"msg-service",children:"Msg Service"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#msgoptin",children:"Msg/OptIn"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#msgoptout",children:"Msg/OptOut"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#msgaccept",children:"Msg/Accept"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#msgdecline",children:"Msg/Decline"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#msgupdateautoresponses",children:"Msg/UpdateAutoResponses"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"msgoptin",children:"Msg/OptIn"}),"\n",(0,o.jsxs)(n.p,{children:["An account can activate quarantine using a ",(0,o.jsx)(n.code,{children:"MsgOptIn"}),".\nIt contains only the address to quarantine."]}),"\n",(0,o.jsxs)(n.p,{children:["+++ ",(0,o.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.19.0/proto/cosmos/quarantine/v1beta1/tx.proto#L33-L38",children:"https://github.com/provenance-io/provenance/blob/v1.19.0/proto/cosmos/quarantine/v1beta1/tx.proto#L33-L38"})]}),"\n",(0,o.jsxs)(n.p,{children:["It is expected to fail if the ",(0,o.jsx)(n.code,{children:"to_address"})," is invalid."]}),"\n",(0,o.jsx)(n.h2,{id:"msgoptout",children:"Msg/OptOut"}),"\n",(0,o.jsxs)(n.p,{children:["An account can deactivate quarantine using a ",(0,o.jsx)(n.code,{children:"MsgOptOut"}),".\nIt contains only the address to unquarantine."]}),"\n",(0,o.jsxs)(n.p,{children:["+++ ",(0,o.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.19.0/proto/cosmos/quarantine/v1beta1/tx.proto#L43-L48",children:"https://github.com/provenance-io/provenance/blob/v1.19.0/proto/cosmos/quarantine/v1beta1/tx.proto#L43-L48"})]}),"\n",(0,o.jsxs)(n.p,{children:["It is expected to fail if the ",(0,o.jsx)(n.code,{children:"to_address"})," is invalid."]}),"\n",(0,o.jsx)(n.h2,{id:"msgaccept",children:"Msg/Accept"}),"\n",(0,o.jsxs)(n.p,{children:["Quarantined funds can be accepted by the intended receiver using a ",(0,o.jsx)(n.code,{children:"MsgAccept"}),".\nIt contains a ",(0,o.jsx)(n.code,{children:"to_address"})," (receiver) and one or more ",(0,o.jsx)(n.code,{children:"from_addresses"})," (senders).\nIt also contains a flag to indicate whether auto-accept should be set up for all provided addresses."]}),"\n",(0,o.jsxs)(n.p,{children:["+++ ",(0,o.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.19.0/proto/cosmos/quarantine/v1beta1/tx.proto#L53-L67",children:"https://github.com/provenance-io/provenance/blob/v1.19.0/proto/cosmos/quarantine/v1beta1/tx.proto#L53-L67"})]}),"\n",(0,o.jsxs)(n.p,{children:["Any quarantined funds for the ",(0,o.jsx)(n.code,{children:"to_address"})," from any ",(0,o.jsx)(n.code,{children:"from_address"})," are accepted (regardless of whether they've been previously declined)."]}),"\n",(0,o.jsxs)(n.p,{children:["For quarantined funds from multiple senders (e.g. from a ",(0,o.jsx)(n.code,{children:"MultiSend"}),"), all senders must be part of an ",(0,o.jsx)(n.code,{children:"Accept"})," before the funds will be released,\nbut they don't all have to be part of the same ",(0,o.jsx)(n.code,{children:"Accept"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["If the ",(0,o.jsx)(n.code,{children:"permanent"})," flag is ",(0,o.jsx)(n.code,{children:"true"}),", after accepting all applicable funds, auto-accept is set up to the ",(0,o.jsx)(n.code,{children:"to_address"})," from each of the provided ",(0,o.jsx)(n.code,{children:"from_addresses"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"to_address"})," is missing or invalid."]}),"\n",(0,o.jsxs)(n.li,{children:["No ",(0,o.jsx)(n.code,{children:"from_addresses"})," are provided."]}),"\n",(0,o.jsxs)(n.li,{children:["Any ",(0,o.jsx)(n.code,{children:"from_addresses"})," are invalid."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"The response will contain a total of all funds released."}),"\n",(0,o.jsxs)(n.p,{children:["+++ ",(0,o.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.19.0/proto/cosmos/quarantine/v1beta1/tx.proto#L69-L74",children:"https://github.com/provenance-io/provenance/blob/v1.19.0/proto/cosmos/quarantine/v1beta1/tx.proto#L69-L74"})]}),"\n",(0,o.jsx)(n.h2,{id:"msgdecline",children:"Msg/Decline"}),"\n",(0,o.jsxs)(n.p,{children:["Quarantined funds can be declined by the intended receiver using a ",(0,o.jsx)(n.code,{children:"MsgDecline"}),".\nIt contains a ",(0,o.jsx)(n.code,{children:"to_address"})," (receiver) and one or more ",(0,o.jsx)(n.code,{children:"from_addresses"})," (senders).\nIt also contains a flag to indicate whether auto-decline should be set up for all provided addresses."]}),"\n",(0,o.jsxs)(n.p,{children:["+++ ",(0,o.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.19.0/proto/cosmos/quarantine/v1beta1/tx.proto#L76-L90",children:"https://github.com/provenance-io/provenance/blob/v1.19.0/proto/cosmos/quarantine/v1beta1/tx.proto#L76-L90"})]}),"\n",(0,o.jsxs)(n.p,{children:["Any quarantined funds for the ",(0,o.jsx)(n.code,{children:"to_address"})," from any ",(0,o.jsx)(n.code,{children:"from_address"})," are declined."]}),"\n",(0,o.jsxs)(n.p,{children:["For quarantined funds from multiple senders (e.g. from a ",(0,o.jsx)(n.code,{children:"MultiSend"}),"), a decline from any sender involved is sufficient to decline the funds.\nFunds that have been declined can always be accepted later."]}),"\n",(0,o.jsxs)(n.p,{children:["If the ",(0,o.jsx)(n.code,{children:"permanent"})," flag is ",(0,o.jsx)(n.code,{children:"true"}),", after declining all applicable funds, auto-decline is set up to the ",(0,o.jsx)(n.code,{children:"to_address"})," from each of the provided ",(0,o.jsx)(n.code,{children:"from_addresses"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"to_address"})," is missing or invalid."]}),"\n",(0,o.jsxs)(n.li,{children:["No ",(0,o.jsx)(n.code,{children:"from_addresses"})," are provided."]}),"\n",(0,o.jsxs)(n.li,{children:["Any ",(0,o.jsx)(n.code,{children:"from_addresses"})," are invalid."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"msgupdateautoresponses",children:"Msg/UpdateAutoResponses"}),"\n",(0,o.jsxs)(n.p,{children:["Auto-Responses can be defined either through the ",(0,o.jsx)(n.code,{children:"permanent"})," flags with a ",(0,o.jsx)(n.code,{children:"MsgAccept"})," or ",(0,o.jsx)(n.code,{children:"MsgDecline"}),", or using a ",(0,o.jsx)(n.code,{children:"MsgUpdateAutoResponses"}),".\nIt contains a ",(0,o.jsx)(n.code,{children:"to_address"})," and a list of ",(0,o.jsx)(n.code,{children:"updates"}),". Each ",(0,o.jsx)(n.code,{children:"AutoResponseUpdate"})," contains a ",(0,o.jsx)(n.code,{children:"from_address"})," and the desired ",(0,o.jsx)(n.code,{children:"response"})," for it."]}),"\n",(0,o.jsxs)(n.p,{children:["+++ ",(0,o.jsx)(n.a,{href:"https://github.com/provenance-io/provenance/blob/v1.19.0/proto/cosmos/quarantine/v1beta1/tx.proto#L95-L104",children:"https://github.com/provenance-io/provenance/blob/v1.19.0/proto/cosmos/quarantine/v1beta1/tx.proto#L95-L104"})]}),"\n",(0,o.jsxs)(n.p,{children:["Providing a ",(0,o.jsx)(n.code,{children:"response"})," of ",(0,o.jsx)(n.code,{children:"AUTO_RESPONSE_UNSPECIFIED"})," will cause the applicable entry to be deleted, allowing users to un-set previous auto-responses."]}),"\n",(0,o.jsx)(n.p,{children:"Updating auto-responses has no effect on existing quarantined funds."}),"\n",(0,o.jsx)(n.p,{children:"It is expected to fail if:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"to_address"})," is invalid."]}),"\n",(0,o.jsxs)(n.li,{children:["No ",(0,o.jsx)(n.code,{children:"updates"})," are provided."]}),"\n",(0,o.jsxs)(n.li,{children:["Any ",(0,o.jsx)(n.code,{children:"from_address"})," is missing or invalid."]}),"\n",(0,o.jsxs)(n.li,{children:["Any ",(0,o.jsx)(n.code,{children:"response"})," value is something other than ",(0,o.jsx)(n.code,{children:"AUTO_RESPONSE_ACCEPT"}),", ",(0,o.jsx)(n.code,{children:"AUTO_RESPONSE_DECLINE"}),", or ",(0,o.jsx)(n.code,{children:"AUTO_RESPONSE_UNSPECIFIED"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>i});var o=s(96540);const r={},t=o.createContext(r);function d(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);