"use strict";(self.webpackChunkprovenance_blockchain_developer_portal=self.webpackChunkprovenance_blockchain_developer_portal||[]).push([[3440],{33683:(e,o,s)=>{s.r(o),s.d(o,{assets:()=>i,contentTitle:()=>t,default:()=>c,frontMatter:()=>a,metadata:()=>p,toc:()=>l});var n=s(85893),r=s(11151);const a={},t="Governance Proposal Control",p={id:"sdk/msgfees/governance",title:"governance",description:"\x3c!--",source:"@site/docs/sdk/msgfees/07_governance.md",sourceDirName:"sdk/msgfees",slug:"/sdk/msgfees/governance",permalink:"/docs/sdk/msgfees/governance",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{},sidebar:"documentationSidebar",previous:{title:"params",permalink:"/docs/sdk/msgfees/params"},next:{title:"genesis",permalink:"/docs/sdk/msgfees/genesis"}},i={},l=[{value:"Add MsgFee Proposal",id:"add-msgfee-proposal",level:2},{value:"Update MsgFee Proposal",id:"update-msgfee-proposal",level:2},{value:"Remove MsgFee Proposal",id:"remove-msgfee-proposal",level:2}];function d(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h1,{id:"governance-proposal-control",children:"Governance Proposal Control"}),"\n",(0,n.jsx)(o.p,{children:"The msgfee module supports addition, update, and deletion of Msg Type which are assessed fees via governance proposal."}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:(0,n.jsx)(o.a,{href:"#add-msgfee-proposal",children:"Add MsgFee Proposal"})}),"\n",(0,n.jsx)(o.li,{children:(0,n.jsx)(o.a,{href:"#update-msgfee-proposal",children:"Update MsgFee Proposal"})}),"\n",(0,n.jsx)(o.li,{children:(0,n.jsx)(o.a,{href:"#remove-msgfee-proposal",children:"Remove MsgFee Proposal"})}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"add-msgfee-proposal",children:"Add MsgFee Proposal"}),"\n",(0,n.jsxs)(o.p,{children:["AddMsgFeeProposal defines a governance proposal to create a new msgfee entry for a specific ",(0,n.jsx)(o.code,{children:"MsgType"}),"."]}),"\n",(0,n.jsxs)(o.p,{children:["Add proposal ",(0,n.jsx)(o.a,{href:"../../../proto/provenance/msgfees/v1/proposals.proto#L13-L34",children:"AddMsgFeeProposal"}),":"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-protobuf",children:'// AddMsgFeeProposal defines a governance proposal to add additional msg based fee\nmessage AddMsgFeeProposal {\n  option (gogoproto.equal)            = true;\n  option (gogoproto.goproto_stringer) = true;\n\n  // propsal title\n  string title = 1;\n  // propsal description\n  string description = 2;\n\n  // type url of msg to add fee\n  string msg_type_url = 3;\n\n  // additional fee for msg type\n  cosmos.base.v1beta1.Coin additional_fee = 4\n  [(gogoproto.nullable) = false, (gogoproto.castrepeated) = "github.com/cosmos/cosmos-sdk/types.Coins"];\n\n  // optional recipient to recieve basis points\n  string recipient = 5;\n  // basis points to use when recipient is present (1 - 10,000)\n  string recipient_basis_points = 6;\n}\n'})}),"\n",(0,n.jsx)(o.p,{children:"Sample command to add an additional fee locally:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-bash",children:'  ${PROVENANCE_DEV_DIR}/build/provenanced -t tx msgfees proposal add "adding" "adding bank send addition fee" 10000000000nhash \\\n    --msg-type=/cosmos.bank.v1beta1.MsgSend --additional-fee 99usd.local\\\n\t\t--from node0 \\\n    --home ${PROVENANCE_DEV_DIR}/build/node0 \\\n    --chain-id chain-local \\\n\t--keyring-backend test \\\n    --gas auto \\\n    --fees 250990180nhash \\\n    --broadcast-mode block \\\n    --yes \\\n    --testnet\n'})}),"\n",(0,n.jsx)(o.h2,{id:"update-msgfee-proposal",children:"Update MsgFee Proposal"}),"\n",(0,n.jsxs)(o.p,{children:["Update proposal ",(0,n.jsx)(o.a,{href:"../../../proto/provenance/msgfees/v1/proposals.proto#L36-L55",children:"UpdateMsgFeeProposal"}),":"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-protobuf",children:'// UpdateMsgFeeProposal defines a governance proposal to update a current msg based fee\nmessage UpdateMsgFeeProposal {\n  option (gogoproto.equal)            = true;\n  option (gogoproto.goproto_stringer) = true;\n\n  // propsal title\n  string title = 1;\n  // propsal description\n  string description = 2;\n  // type url of msg to update fee\n  string msg_type_url = 3;\n\n  // additional fee for msg type\n  cosmos.base.v1beta1.Coin additional_fee = 4\n  [(gogoproto.nullable) = false, (gogoproto.castrepeated) = "github.com/cosmos/cosmos-sdk/types.Coins"];\n  // optional recipient to recieve basis points\n  string recipient = 5;\n  // basis points to use when recipient is present (1 - 10,000)\n  string recipient_basis_points = 6;\n}\n'})}),"\n",(0,n.jsx)(o.h2,{id:"remove-msgfee-proposal",children:"Remove MsgFee Proposal"}),"\n",(0,n.jsxs)(o.p,{children:["Remove proposal ",(0,n.jsx)(o.a,{href:"../../../proto/provenance/msgfees/v1/proposals.proto#L57-L68",children:"RemoveMsgFeeProposal"}),":"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-protobuf",children:"// RemoveMsgFeeProposal defines a governance proposal to delete a current msg based fee\nmessage RemoveMsgFeeProposal {\n  option (gogoproto.equal)            = true;\n  option (gogoproto.goproto_stringer) = true;\n\n  // propsal title\n  string title = 1;\n  // propsal description\n  string description = 2;\n  // type url of msg fee to remove\n  string msg_type_url = 3;\n}\n"})})]})}function c(e={}){const{wrapper:o}={...(0,r.a)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},11151:(e,o,s)=>{s.d(o,{Z:()=>p,a:()=>t});var n=s(67294);const r={},a=n.createContext(r);function t(e){const o=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function p(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),n.createElement(a.Provider,{value:o},e.children)}}}]);