"use strict";(self.webpackChunkprovenance_blockchain_developer_portal=self.webpackChunkprovenance_blockchain_developer_portal||[]).push([[2261],{93123:(e,r,o)=>{o.r(r),o.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>t,toc:()=>c});var n=o(85893),a=o(11151);const s={},i="Governance Proposal Control",t={id:"sdk/marker/governance",title:"Governance Proposal Control",description:"The marker module supports an extensive amount of control over markers via governance proposal.  This allows a",source:"@site/docs/sdk/marker/10_governance.md",sourceDirName:"sdk/marker",slug:"/sdk/marker/governance",permalink:"/docs/sdk/marker/governance",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Parameters",permalink:"/docs/sdk/marker/params"},next:{title:"Authorization",permalink:"/docs/sdk/marker/authorization"}},l={},c=[{value:"Add Marker Proposal",id:"add-marker-proposal",level:2},{value:"Supply Increase Proposal",id:"supply-increase-proposal",level:2},{value:"Supply Decrease Proposal",id:"supply-decrease-proposal",level:2},{value:"Set Administrator Proposal",id:"set-administrator-proposal",level:2},{value:"Remove Administrator Proposal",id:"remove-administrator-proposal",level:2},{value:"Change Status Proposal",id:"change-status-proposal",level:2},{value:"Withdraw Escrow Proposal",id:"withdraw-escrow-proposal",level:2},{value:"Set Denom Metadata Proposal",id:"set-denom-metadata-proposal",level:2}];function p(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...(0,a.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"governance-proposal-control",children:"Governance Proposal Control"}),"\n",(0,n.jsx)(r.p,{children:"The marker module supports an extensive amount of control over markers via governance proposal.  This allows a\nmarker to be defined where no single account is allowed to make modifications and yet it is still possible to\nissue change requests through passing a governance proposal."}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#add-marker-proposal",children:"Add Marker Proposal"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#supply-increase-proposal",children:"Supply Increase Proposal"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#supply-decrease-proposal",children:"Supply Decrease Proposal"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#set-administrator-proposal",children:"Set Administrator Proposal"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#remove-administrator-proposal",children:"Remove Administrator Proposal"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#change-status-proposal",children:"Change Status Proposal"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#withdraw-escrow-proposal",children:"Withdraw Escrow Proposal"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#set-denom-metadata-proposal",children:"Set Denom Metadata Proposal"})}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"add-marker-proposal",children:"Add Marker Proposal"}),"\n",(0,n.jsx)(r.p,{children:"AddMarkerProposal defines a governance proposal to create a new marker."}),"\n",(0,n.jsxs)(r.p,{children:["In a typical add marker situation the ",(0,n.jsx)(r.code,{children:"UnrestrictedDenomRegex"})," parameter would be used to enforce longer denom\nvalues (preventing users from creating coins with well known symbols such as BTC, ETH, etc).  Markers added\nvia governance proposal are only limited by the more generic Coin Validation Denom expression enforced by the\nbank module."]}),"\n",(0,n.jsxs)(r.p,{children:["A further difference from the standard add marker flow is that governance proposals to add a marker can directly\nset a marker to the ",(0,n.jsx)(r.code,{children:"Active"})," status with the appropriate minting operations performed immediately."]}),"\n",(0,n.jsxs)(r.p,{children:["+++ ",(0,n.jsx)(r.a,{href:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L15-L34",children:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L15-L34"})]}),"\n",(0,n.jsx)(r.p,{children:"This request is expected to fail if:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"The governance proposal format (title, description, etc) is invalid"}),"\n",(0,n.jsx)(r.li,{children:"The marker request contains an invalid denom value"}),"\n",(0,n.jsx)(r.li,{children:"The marker already exists"}),"\n",(0,n.jsxs)(r.li,{children:["The amount of coin in circulation could not be set.","\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"There is already coin in circulation [perhaps from genesis] and the configured supply is less than this amount and\nit is not possible to burn sufficient coin to make the requested supply match actual supply"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.li,{children:"The mint operation fails for any reason (see bank module)"}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"supply-increase-proposal",children:"Supply Increase Proposal"}),"\n",(0,n.jsx)(r.p,{children:"SupplyIncreaseProposal defines a governance proposal to administer a marker and increase total supply of the marker\nthrough minting coin and placing it within the marker or assigning it directly to an account."}),"\n",(0,n.jsxs)(r.p,{children:["+++ ",(0,n.jsx)(r.a,{href:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L36-L47",children:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L36-L47"})]}),"\n",(0,n.jsx)(r.p,{children:"This request is expected to fail if:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"The governance proposal format (title, description, etc) is invalid"}),"\n",(0,n.jsxs)(r.li,{children:["The requested supply exceeds the configuration parameter for ",(0,n.jsx)(r.code,{children:"MaxSupply"})]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"supply-decrease-proposal",children:"Supply Decrease Proposal"}),"\n",(0,n.jsx)(r.p,{children:"SupplyDecreaseProposal defines a governance proposal to administer a marker and decrease the total supply through\nburning coin held within the marker"}),"\n",(0,n.jsxs)(r.p,{children:["+++ ",(0,n.jsx)(r.a,{href:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L49-L59",children:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L49-L59"})]}),"\n",(0,n.jsx)(r.p,{children:"This request is expected to fail if:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"The governance proposal format (title, description, etc) is invalid"}),"\n",(0,n.jsxs)(r.li,{children:["Marker does not allow governance control (",(0,n.jsx)(r.code,{children:"AllowGovernanceControl"}),")"]}),"\n",(0,n.jsx)(r.li,{children:"The marker account itself is not holding sufficient supply to cover the amount of coin requested to burn"}),"\n",(0,n.jsx)(r.li,{children:"The amount of resulting supply would be less than zero"}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"The chain will panic and halt if:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"The bank burn operation fails for any reason (see bank module)"}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"set-administrator-proposal",children:"Set Administrator Proposal"}),"\n",(0,n.jsx)(r.p,{children:"SetAdministratorProposal defines a governance proposal to administer a marker and set administrators with specific\naccess on the marker"}),"\n",(0,n.jsxs)(r.p,{children:["+++ ",(0,n.jsx)(r.a,{href:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L61-L71",children:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L61-L71"})]}),"\n",(0,n.jsx)(r.p,{children:"This request is expected to fail if:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"The governance proposal format (title, description, etc) is invalid"}),"\n",(0,n.jsx)(r.li,{children:"The marker does not exist"}),"\n",(0,n.jsxs)(r.li,{children:["Marker does not allow governance control (",(0,n.jsx)(r.code,{children:"AllowGovernanceControl"}),")"]}),"\n",(0,n.jsx)(r.li,{children:"Any of the access grants are invalid"}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"remove-administrator-proposal",children:"Remove Administrator Proposal"}),"\n",(0,n.jsx)(r.p,{children:"RemoveAdministratorProposal defines a governance proposal to administer a marker and remove all permissions for a\ngiven address"}),"\n",(0,n.jsxs)(r.p,{children:["+++ ",(0,n.jsx)(r.a,{href:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L73-L83",children:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L73-L83"})]}),"\n",(0,n.jsx)(r.p,{children:"This request is expected to fail if:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"The governance proposal format (title, description, etc) is invalid"}),"\n",(0,n.jsx)(r.li,{children:"The marker does not exist"}),"\n",(0,n.jsxs)(r.li,{children:["Marker does not allow governance control (",(0,n.jsx)(r.code,{children:"AllowGovernanceControl"}),")"]}),"\n",(0,n.jsx)(r.li,{children:"The address to be removed is not present"}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"change-status-proposal",children:"Change Status Proposal"}),"\n",(0,n.jsx)(r.p,{children:"ChangeStatusProposal defines a governance proposal to administer a marker to change its status"}),"\n",(0,n.jsxs)(r.p,{children:["+++ ",(0,n.jsx)(r.a,{href:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L85-L94",children:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L85-L94"})]}),"\n",(0,n.jsx)(r.p,{children:"This request is expected to fail if:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"The governance proposal format (title, description, etc) is invalid"}),"\n",(0,n.jsxs)(r.li,{children:["Marker does not allow governance control (",(0,n.jsx)(r.code,{children:"AllowGovernanceControl"}),")"]}),"\n",(0,n.jsx)(r.li,{children:"The requested status is invalid"}),"\n",(0,n.jsx)(r.li,{children:"The new status is not a valid transition from the current status"}),"\n",(0,n.jsxs)(r.li,{children:["For destroyed markers","\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"The supply of the marker is greater than zero and the amount held by the marker account does not equal this value\nresulting in the failure to burn all remaining supply."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"withdraw-escrow-proposal",children:"Withdraw Escrow Proposal"}),"\n",(0,n.jsx)(r.p,{children:"WithdrawEscrowProposal defines a governance proposal to withdraw escrow coins from a marker"}),"\n",(0,n.jsxs)(r.p,{children:["+++ ",(0,n.jsx)(r.a,{href:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L96-L107",children:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L96-L107"})]}),"\n",(0,n.jsx)(r.p,{children:"This request is expected to fail if:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"The governance proposal format (title, description, etc) is invalid"}),"\n",(0,n.jsxs)(r.li,{children:["Marker does not allow governance control (",(0,n.jsx)(r.code,{children:"AllowGovernanceControl"}),")"]}),"\n",(0,n.jsx)(r.li,{children:"The marker account is not holding sufficient assets to cover the requested withdraw amounts."}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"set-denom-metadata-proposal",children:"Set Denom Metadata Proposal"}),"\n",(0,n.jsx)(r.p,{children:"SetDenomMetadataProposal defines a governance proposal to set the metadata for a denom."}),"\n",(0,n.jsxs)(r.p,{children:["+++ ",(0,n.jsx)(r.a,{href:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L109-L117",children:"https://github.com/provenance-io/provenance/blob/22740319ba4b3ba268b3720d4bee36d6c6b06b40/proto/provenance/marker/v1/proposals.proto#L109-L117"})]}),"\n",(0,n.jsx)(r.p,{children:"This request is expected to fail if:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"The governance proposal format (title, description, etc) is invalid"}),"\n",(0,n.jsxs)(r.li,{children:["Marker does not allow governance control (",(0,n.jsx)(r.code,{children:"AllowGovernanceControl"}),")"]}),"\n"]})]})}function d(e={}){const{wrapper:r}={...(0,a.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},11151:(e,r,o)=>{o.d(r,{Z:()=>t,a:()=>i});var n=o(67294);const a={},s=n.createContext(a);function i(e){const r=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(s.Provider,{value:r},e.children)}}}]);