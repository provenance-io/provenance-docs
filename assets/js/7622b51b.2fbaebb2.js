"use strict";(self.webpackChunkprovenance_blockchain_developer_portal=self.webpackChunkprovenance_blockchain_developer_portal||[]).push([[774],{55147:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>d,default:()=>l,frontMatter:()=>a,metadata:()=>c,toc:()=>o});var t=r(74848),s=r(28453);const a={},d="Concepts",c={id:"sdk/quarantine/concepts",title:"Concepts",description:"- Quarantined Account",source:"@site/docs/sdk/quarantine/01_concepts.md",sourceDirName:"sdk/quarantine",slug:"/sdk/quarantine/concepts",permalink:"/docs/sdk/quarantine/concepts",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"documentationSidebar",previous:{title:"x/quarantine",permalink:"/docs/sdk/quarantine/"},next:{title:"State",permalink:"/docs/sdk/quarantine/state"}},i={},o=[{value:"Quarantined Account",id:"quarantined-account",level:2},{value:"Opt-In",id:"opt-in",level:2},{value:"Quarantined Funds",id:"quarantined-funds",level:2},{value:"Accept Funds",id:"accept-funds",level:3},{value:"Decline Funds",id:"decline-funds",level:3},{value:"Auto-Responses",id:"auto-responses",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"concepts",children:"Concepts"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#quarantined-account",children:"Quarantined Account"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#opt-in",children:"Opt-In"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#quarantined-funds",children:"Quarantined Funds"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#accept-funds",children:"Accept Funds"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#decline-funds",children:"Decline Funds"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#auto-responses",children:"Auto-Responses"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"quarantined-account",children:"Quarantined Account"}),"\n",(0,t.jsx)(n.p,{children:"A quarantined account is one that has elected to not receive funds transfers until the transfer has been accepted."}),"\n",(0,t.jsxs)(n.p,{children:["When funds are sent using the ",(0,t.jsx)(n.code,{children:"x/bank"})," module keeper's ",(0,t.jsx)(n.code,{children:"SendCoins"})," or ",(0,t.jsx)(n.code,{children:"InputOutputCoins"})," functions (e.g. from a ",(0,t.jsx)(n.code,{children:"Send"})," or ",(0,t.jsx)(n.code,{children:"MultiSend"})," Tx),\nif the receiver is quarantined, the funds are sent to an intermediary quarantined funds holder account and a record of the quarantined funds is made.\nLater, the receiver can ",(0,t.jsx)(n.code,{children:"Approve"})," or ",(0,t.jsx)(n.code,{children:"Decline"})," the funds as they see fit."]}),"\n",(0,t.jsx)(n.h2,{id:"opt-in",children:"Opt-In"}),"\n",(0,t.jsxs)(n.p,{children:["An account becomes quarantined when the account owner issues an ",(0,t.jsx)(n.code,{children:"OptIn"})," Tx.\nAn account can later opt out by issuing an ",(0,t.jsx)(n.code,{children:"OptOut"})," Tx.\nOpting in or out does not affect any previously quarantined funds."]}),"\n",(0,t.jsx)(n.h2,{id:"quarantined-funds",children:"Quarantined Funds"}),"\n",(0,t.jsx)(n.p,{children:"Quarantined funds can either be accepted or declined (or ignored) by the receiver."}),"\n",(0,t.jsx)(n.h3,{id:"accept-funds",children:"Accept Funds"}),"\n",(0,t.jsxs)(n.p,{children:["When a receiver ",(0,t.jsx)(n.code,{children:"Accept"}),"s funds, all fully approved quarantined funds from each sender are transferred to the receiver.\nQuarantined funds are fully approved when all senders involved in the transfer of those funds have been part of an ",(0,t.jsx)(n.code,{children:"Accept"})," from the receiver.\nFunds quarantined for a receiver are aggregated by sender (or set of senders in the case of a ",(0,t.jsx)(n.code,{children:"MultiSend"}),").\nThat is, if a sender issues two different transfers to a receiver, they are quarantined together and the receiver only needs to issue a single ",(0,t.jsx)(n.code,{children:"Accept"})," for them."]}),"\n",(0,t.jsx)(n.h3,{id:"decline-funds",children:"Decline Funds"}),"\n",(0,t.jsxs)(n.p,{children:["When a receiver ",(0,t.jsx)(n.code,{children:"Decline"}),"s funds, all quarantined funds from each sender are marked as declined.\nDeclined funds remain held by the quarantined fund holder account and can later be accepted.\nDeclined funds are not returned by the ",(0,t.jsx)(n.code,{children:"QuarantinedFunds"})," query unless the query params included a specific sender.\nThe decline indicator is reset to ",(0,t.jsx)(n.code,{children:"false"})," if new funds are quarantined (to the same receiver from the same sender) and auto-decline is not set up."]}),"\n",(0,t.jsx)(n.h2,{id:"auto-responses",children:"Auto-Responses"}),"\n",(0,t.jsx)(n.p,{children:"A quarantined account can set up auto-accept from known trusted senders, and auto-decline from known untrusted senders.\nAn auto-response is unique for a given receiver and sender and only applies in one direction.\nThat is, the auto-responses that one receiver has defined, do not affect any other accounts."}),"\n",(0,t.jsxs)(n.p,{children:["If funds are sent to a quarantined account from an auto-accept sender, the transfer occurs as if the receiver weren't quarantined.\nWhen there are multiple senders, the funds are quarantined unless the receiver has auto-accept for ",(0,t.jsx)(n.strong,{children:"ALL"})," of the senders."]}),"\n",(0,t.jsxs)(n.p,{children:["If funds are sent to a quarantined account from an auto-decline sender, the funds are quarantined and marked as declined.\nWhen there are multiple senders, the funds are declined if the receiver has auto-decline for ",(0,t.jsx)(n.strong,{children:"ANY"})," of the senders."]})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>c});var t=r(96540);const s={},a=t.createContext(s);function d(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);