"use strict";(self.webpackChunkprovenance_blockchain_developer_portal=self.webpackChunkprovenance_blockchain_developer_portal||[]).push([[460],{3358:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>p});var o=n(5893),c=n(1151);const a={},s="Cross Scope (Update) Contract",r={id:"pb/p8e/p8e-usage/cross-scope-contract-example",title:"Cross Scope (Update) Contract",description:"Cross scope contract refers to a contract inputting information that was output, and ultimately memorialized to the blockchain, by the execution of another contract. In Provenance Blockchain terms, this is executing a new session against an existing scope.",source:"@site/docs/pb/p8e/p8e-usage/cross-scope-contract-example.md",sourceDirName:"pb/p8e/p8e-usage",slug:"/pb/p8e/p8e-usage/cross-scope-contract-example",permalink:"/docs/pb/p8e/p8e-usage/cross-scope-contract-example",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Data Retrieval",permalink:"/docs/pb/p8e/p8e-usage/data-retrieval"},next:{title:"Multi-Party Contract",permalink:"/docs/pb/p8e/p8e-usage/multi-contract-example"}},i={},p=[];function u(e){const t={code:"code",h1:"h1",p:"p",pre:"pre",...(0,c.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"cross-scope-update-contract",children:"Cross Scope (Update) Contract"}),"\n",(0,o.jsx)(t.p,{children:"Cross scope contract refers to a contract inputting information that was output, and ultimately memorialized to the blockchain, by the execution of another contract. In Provenance Blockchain terms, this is executing a new session against an existing scope."}),"\n",(0,o.jsx)(t.p,{children:"Executing a contract against an existing scope requires the existing scope as an input during execution. This is used to match on the contract class parameters against the existing scope names. When the name is found the value is fetched from EOS by hash and is available to functions inside of the contract."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-kotlin",children:'@Participants(roles = [ORIGINATOR])\n@ScopeSpecification(names = [loanScopeNamespace])\nopen class AddLoanDocument(\n    @Record(name = "documents") val existingDocuments: DocumentList,\n) : P8eContract() {\n    @Function(invokedBy = ORIGINATOR)\n    @Record(name = "documents")\n    open fun addDocument(@Input(name = "documents") documents: DocumentList): DocumentList {\n        return existingDocuments.toBuilder()\n            .addAllDocuments(documents.documentsList)\n            .build()\n    }\n}\n'})})]})}function d(e={}){const{wrapper:t}={...(0,c.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>r,a:()=>s});var o=n(7294);const c={},a=o.createContext(c);function s(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);