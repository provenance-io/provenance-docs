"use strict";(self.webpackChunkprovenance_blockchain_developer_portal=self.webpackChunkprovenance_blockchain_developer_portal||[]).push([[7263],{68306:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>a,toc:()=>o});var t=r(85893),s=r(11151);const d={},c="State",a={id:"sdk/sanction/state",title:"State",description:"The x/sanction module uses key/value pairs to store sanction-related data in state.",source:"@site/docs/sdk/sanction/02_state.md",sourceDirName:"sdk/sanction",slug:"/sdk/sanction/state",permalink:"/docs/sdk/sanction/state",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Concepts",permalink:"/docs/sdk/sanction/concepts"},next:{title:"Msg Service",permalink:"/docs/sdk/sanction/messages"}},i={},o=[{value:"Params",id:"params",level:2},{value:"Sanctioned Accounts",id:"sanctioned-accounts",level:2},{value:"Temporary Entries",id:"temporary-entries",level:2},{value:"Temporary Index",id:"temporary-index",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"state",children:"State"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"x/sanction"})," module uses key/value pairs to store sanction-related data in state."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#params",children:"Params"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#sanctioned-accounts",children:"Sanctioned Accounts"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#temporary-entries",children:"Temporary Entries"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#temporary-index",children:"Temporary Index"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"params",children:"Params"}),"\n",(0,t.jsx)(n.p,{children:"Each param field is stored in its own record with this format:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"0x00 | []byte(<param name>) -> []byte(<param value>)\n"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Param Field"}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.code,{children:"<param name>"})}),(0,t.jsxs)(n.th,{children:[(0,t.jsx)(n.code,{children:"<param value>"})," format"]})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ImmediateSanctionMinDeposit"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"immediate_sanction_min_deposit"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"sdk.Coins.String()"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ImmediateUnsanctionMinDeposit"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"immediate_unsanction_min_deposit"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"sdk.Coins.String()"})})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"sanctioned-accounts",children:"Sanctioned Accounts"}),"\n",(0,t.jsx)(n.p,{children:"When an account is sanctioned, the following record is made:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"0x01 | len([]byte(<account address>)) | []byte(<account address>) -> 0x01\n"})}),"\n",(0,t.jsx)(n.p,{children:"When an account is unsanctioned, that record is deleted."}),"\n",(0,t.jsx)(n.h2,{id:"temporary-entries",children:"Temporary Entries"}),"\n",(0,t.jsx)(n.p,{children:"Immediate temporary sanctions and/or unsanctions are enacted by creating the following record:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"0x02 | len([]byte(<account address>)) | []byte(<account address>) | [8]byte(<gov prop id>) -> byte(<value>)\n"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Entry type"}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.code,{children:"<value>"})})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Sanction"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"0x01"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Unsanction"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"0x00"})})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"When an account is sanctioned or unsanctioned, all temporary entry records for the address are removed.\nIf a proposal does not pass, all temporary entry records for that proposal are removed."}),"\n",(0,t.jsx)(n.h2,{id:"temporary-index",children:"Temporary Index"}),"\n",(0,t.jsx)(n.p,{children:"When a temporary entry is created, the following index record is also created:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"0x03 | [8]byte(<gov prop id>) | len([]byte(<account address>)) | []byte(<account address>) -> byte(<value>)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The same ",(0,t.jsx)(n.code,{children:"<value>"})," is used as the correlated temporary entry."]}),"\n",(0,t.jsx)(n.p,{children:"Temporary index records are removed when their correlated temporary entry record is removed."})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},11151:(e,n,r)=>{r.d(n,{Z:()=>a,a:()=>c});var t=r(67294);const s={},d=t.createContext(s);function c(e){const n=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(d.Provider,{value:n},e.children)}}}]);