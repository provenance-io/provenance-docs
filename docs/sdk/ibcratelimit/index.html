<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-sdk/ibcratelimit/README" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">x/ibcratelimit | Provenance Blockchain Developer Portal</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://developer.provenance.io/docs/sdk/ibcratelimit/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="x/ibcratelimit | Provenance Blockchain Developer Portal"><meta data-rh="true" name="description" content="Notice"><meta data-rh="true" property="og:description" content="Notice"><link data-rh="true" rel="icon" href="/img/prov-logo.svg"><link data-rh="true" rel="canonical" href="https://developer.provenance.io/docs/sdk/ibcratelimit/"><link data-rh="true" rel="alternate" href="https://developer.provenance.io/docs/sdk/ibcratelimit/" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.provenance.io/docs/sdk/ibcratelimit/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://5NLCC7K64G-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-J8X4N657D9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-J8X4N657D9",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Provenance Blockchain Developer Portal" href="/opensearch.xml">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.29567142.css">
<script src="/assets/js/runtime~main.4c26be78.js" defer="defer"></script>
<script src="/assets/js/main.c0375c7d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/prov-logo-full-color.png" alt="Provenance Blockchain Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/prov-logo-full-color.png" alt="Provenance Blockchain Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Quick Start</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/quick-start/start-here">Start Here</a></li><li><a class="dropdown__link" href="/docs/quick-start/wallet-and-hash">Get a Wallet &amp; Hash</a></li><li><a class="dropdown__link" href="/docs/pb/blockchain/running-a-node/running-a-node-1/">Run a Node</a></li><li><a class="dropdown__link" href="/docs/quick-start/become-a-validator">Become a Validator</a></li><li><a class="dropdown__link" href="/docs/learn/asset-lifecycle/markers">Tokenize an Asset</a></li><li><a class="dropdown__link" href="/docs/quick-start/build-a-dapp">Build a dApp</a></li><li><a class="dropdown__link" href="/docs/quick-start/write-a-smart-contract">Write a Smart Contract</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Guides</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/learn/asset-lifecycle/assets-overview">Asset Lifecycle Guide</a></li><li><a class="dropdown__link" href="/docs/learn/dapps/dapps-overview">dApp Builder&#x27;s Guide</a></li><li><a class="dropdown__link" href="/docs/learn/learn-about">More Guides &amp; Tutorials</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Build</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/build/dev-environment">Dev Environment</a></li><li><a class="dropdown__link" href="/docs/build/clients">Clients</a></li><li><a class="dropdown__link" href="/docs/build/libraries">Libraries and APIs</a></li><li><a href="https://provenance.io/grants" target="_blank" rel="noopener noreferrer" class="dropdown__link">Grants Program</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Discover</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/discover/explorer">Provenance Explorer</a></li><li><a class="dropdown__link" href="/docs/discover/wallets">Wallets</a></li><li><a class="dropdown__link" href="/docs/discover/hash">Hash</a></li><li><a class="dropdown__link" href="/docs/discover/usdf">USDF</a></li><li><a class="dropdown__link" href="/docs/discover/smart-contract-catalog">Smart Contract Catalog</a></li><li><a class="dropdown__link" href="/docs/discover/dapps">dApps</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Connect</a><ul class="dropdown__menu"><li><a href="https://github.com/provenance-io/" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub</a></li><li><a href="https://discord.gg/kNZC8nwCFP" target="_blank" rel="noopener noreferrer" class="dropdown__link">Discord</a></li><li><a href="https://www.linkedin.com/company/provenance-blockchain/" target="_blank" rel="noopener noreferrer" class="dropdown__link">LinkedIn</a></li><li><a href="https://twitter.com/provenancefdn" target="_blank" rel="noopener noreferrer" class="dropdown__link">Twitter</a></li><li><a href="https://medium.com/provenanceblockchain" target="_blank" rel="noopener noreferrer" class="dropdown__link">Blog</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/provenance-io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pb/ecosystem/financial-services-blockchain/">Ecosystem</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pb/blockchain/introduction/">Blockchain</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/pb/modules/">Modules</a><button aria-label="Expand sidebar category &#x27;Modules&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pb/modules/ibc-and-zones">IBC and Zones</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pb/p8e/overview/">BlockVault</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pb/contributing/adr/">Contributing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pb/faq/validator-faq">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/sdk/">SDK</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sdk/">List of Modules</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sdk/attribute/">x/attribute</a><button aria-label="Expand sidebar category &#x27;x/attribute&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sdk/exchange/">x/exchange</a><button aria-label="Expand sidebar category &#x27;x/exchange&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sdk/hold/">x/hold</a><button aria-label="Expand sidebar category &#x27;x/hold&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sdk/ibchooks/">x/ibchooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/sdk/ibcratelimit/">x/ibcratelimit</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sdk/marker/">x/marker</a><button aria-label="Expand sidebar category &#x27;x/marker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sdk/metadata/">x/metadata</a><button aria-label="Expand sidebar category &#x27;x/metadata&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sdk/msgfees/">x/msgfees</a><button aria-label="Expand sidebar category &#x27;x/msgfees&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sdk/name/">x/name</a><button aria-label="Expand sidebar category &#x27;x/name&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sdk/oracle/">x/oracle</a><button aria-label="Expand sidebar category &#x27;x/oracle&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sdk/reward/">x/rewards</a><button aria-label="Expand sidebar category &#x27;x/rewards&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/sdk/trigger/">x/trigger</a><button aria-label="Expand sidebar category &#x27;x/trigger&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item section-heading"><div class="menu__list-item-collapsible"><a class="menu__link">License</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Apache 2.0<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">SDK</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">x/ibcratelimit</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1><code>x/ibcratelimit</code></h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="notice">Notice<a href="#notice" class="hash-link" aria-label="Direct link to Notice" title="Direct link to Notice">​</a></h2>
<p>**This module was forked from <a href="https://github.com/osmosis-labs/osmosis/tree/main/x/ibc-rate-limit" target="_blank" rel="noopener noreferrer">https://github.com/osmosis-labs/osmosis/tree/main/x/ibc-rate-limit</a> **</p>
<p><em>Unfortunately the original version could not be directly used due to extensive osmosis references, an incompatible Cosmos SDK version, and lack of support for IBC v6.x.</em></p>
<h1>IBC Rate Limit</h1>
<p>The IBC Rate Limit module is responsible for adding a governance-configurable rate limit to IBC transfers.
This is a safety control, intended to protect assets on osmosis in event of:</p>
<ul>
<li>a bug/hack on osmosis</li>
<li>a bug/hack on the counter-party chain</li>
<li>a bug/hack in IBC itself</li>
</ul>
<p>This is done in exchange for a potential (one-way) bridge liveness tradeoff, in periods of high deposits or withdrawals.</p>
<p>The architecture of this package is a minimal go package which implements an <a href="https://github.com/cosmos/ibc-go/blob/f57170b1d4dd202a3c6c1c61dcf302b6a9546405/docs/ibc/middleware/develop.md" target="_blank" rel="noopener noreferrer">IBC Middleware</a> that wraps the <a href="https://ibc.cosmos.network/main/apps/transfer/overview.html" target="_blank" rel="noopener noreferrer">ICS20 transfer</a> app, and calls into a cosmwasm contract.
The cosmwasm contract then has all of the actual IBC rate limiting logic.
The Cosmwasm code can be found in the <a href="/docs/sdk/ibcratelimit/contracts/"><code>contracts</code></a> package, with bytecode findable in the <a href="/docs/sdk/ibcratelimit/bytecode/"><code>bytecode</code></a> folder. The cosmwasm VM usage allows Osmosis chain governance to choose to change this safety control with no hard forks, via a parameter change proposal, a great mitigation for faster threat adaptavity.</p>
<p>The status of the module is being in a state suitable for some initial governance settable rate limits for high value bridged assets.
Its not in its long term / end state for all channels by any means, but does act as a strong protection we
can instantiate today for high value IBC connections.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="motivation">Motivation<a href="#motivation" class="hash-link" aria-label="Direct link to Motivation" title="Direct link to Motivation">​</a></h2>
<p>The motivation of IBC-rate-limit comes from the empirical observations of blockchain bridge hacks that a rate limit would have massively reduced the stolen amount of assets in:</p>
<ul>
<li><a href="https://rekt.news/polynetwork-rekt/" target="_blank" rel="noopener noreferrer">Polynetwork Bridge Hack ($611 million)</a></li>
<li><a href="https://rekt.news/bnb-bridge-rekt/" target="_blank" rel="noopener noreferrer">BNB Bridge Hack ($586 million)</a></li>
<li><a href="https://rekt.news/wormhole-rekt/" target="_blank" rel="noopener noreferrer">Wormhole Bridge Hack ($326 million)</a></li>
<li><a href="https://rekt.news/nomad-rekt/" target="_blank" rel="noopener noreferrer">Nomad Bridge Hack ($190 million)</a></li>
<li><a href="https://rekt.news/harmony-rekt/" target="_blank" rel="noopener noreferrer">Harmony Bridge Hack ($100 million)</a> - (Would require rate limit + monitoring)</li>
<li><a href="https://forum.cosmos.network/t/ibc-security-advisory-dragonberry/7702" target="_blank" rel="noopener noreferrer">Dragonberry IBC bug</a> (can&#x27;t yet disclose amount at risk, but was saved due to being found first by altruistic Osmosis core developers)</li>
</ul>
<p>In the presence of a software bug on Osmosis, IBC itself, or on a counterparty chain, we would like to prevent the bridge from being fully depegged.
This stems from the idea that a 30% asset depeg is ~infinitely better than a 100% depeg.
Its <em>crazy</em> that today these complex bridged assets can instantly go to 0 in event of bug.
The goal of a rate limit is to raise an alert that something has potentially gone wrong, allowing validators and developers to have time to analyze, react, and protect larger portions of user funds.</p>
<p>The thesis of this is that, it is worthwile to sacrifice liveness in the case of legitimate demand to send extreme amounts of funds, to prevent the terrible long-tail full fund risks.
Rate limits aren&#x27;t the end-all of safety controls, they&#x27;re merely the simplest automated one. More should be explored and added onto IBC!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rate-limit-types">Rate limit types<a href="#rate-limit-types" class="hash-link" aria-label="Direct link to Rate limit types" title="Direct link to Rate limit types">​</a></h2>
<p>We express rate limits in time-based periods.
This means, we set rate limits for (say) 6-hour, daily, and weekly intervals.
The rate limit for a given time period stores the relevant amount of assets at the start of the rate limit.
Rate limits are then defined on percentage terms of the asset.
The time windows for rate limits are currently <em>not</em> rolling, they have discrete start/end times.</p>
<p>We allow setting separate rate limits for the inflow and outflow of assets.
We do all of our rate limits based on the <em>net flow</em> of assets on a channel pair. This prevents DOS issues, of someone repeatedly sending assets back and forth, to trigger rate limits and break liveness.</p>
<p>We currently envision creating two kinds of rate limits:</p>
<ul>
<li>Per denomination rate limits<!-- -->
<ul>
<li>allows safety statements like &quot;Only 30% of Stars on Osmosis can flow out in one day&quot; or &quot;The amount of Atom on Osmosis can at most double per day&quot;.</li>
</ul>
</li>
<li>Per channel rate limits<!-- -->
<ul>
<li>Limit the total inflow and outflow on a given IBC channel, based on &quot;USDC&quot; equivalent, using Osmosis as the price oracle.</li>
</ul>
</li>
</ul>
<p>We currently only implement per denomination rate limits for non-native assets. We do not yet implement channel based rate limits.</p>
<p>Currently these rate limits automatically &quot;expire&quot; at the end of the quota duration. TODO: Think of better designs here. E.g. can we have a constant number of subsequent quotas start filled? Or perhaps harmonically decreasing amounts of next few quotas pre-filled? Halted until DAO override seems not-great.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="instantiating-rate-limits">Instantiating rate limits<a href="#instantiating-rate-limits" class="hash-link" aria-label="Direct link to Instantiating rate limits" title="Direct link to Instantiating rate limits">​</a></h2>
<p>Today all rate limit quotas must be set manually by governance.
In the future, we should design towards some conservative rate limit to add as a safety-backstop automatically for channels.
Ideas for how this could look:</p>
<ul>
<li>One month after a channel has been created, automatically add in some USDC-based rate limit</li>
<li>One month after governance incentivizes an asset, add on a per-denomination rate limit.</li>
</ul>
<p>Definitely needs far more ideation and iteration!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="parameterizing-the-rate-limit">Parameterizing the rate limit<a href="#parameterizing-the-rate-limit" class="hash-link" aria-label="Direct link to Parameterizing the rate limit" title="Direct link to Parameterizing the rate limit">​</a></h2>
<p>One element is we don&#x27;t want any rate limit timespan thats too short, e.g. not enough time for humans to react to. So we wouldn&#x27;t want a 1 hour rate limit, unless we think that if its hit, it could be assessed within an hour.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="handling-rate-limit-boundaries">Handling rate limit boundaries<a href="#handling-rate-limit-boundaries" class="hash-link" aria-label="Direct link to Handling rate limit boundaries" title="Direct link to Handling rate limit boundaries">​</a></h3>
<p>We want to be safe against the case where say we have a daily rate limit ending at a given time, and an adversary attempts to attack near the boundary window.
We would not like them to be able to &quot;double extract funds&quot; by timing their extraction near a window boundary.</p>
<p>Admittedly, not a lot of thought has been put into how to deal with this well.
Right now we envision simply handling this by saying if you want a quota of duration D, instead include two quotas of duration D, but offset by <code>D/2</code> from each other.</p>
<p>Ideally we can change windows to be more &#x27;rolling&#x27; in the future, to avoid this overhead and more cleanly handle the problem. (Perhaps rolling ~1 hour at a time)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inflow-parameterization">Inflow parameterization<a href="#inflow-parameterization" class="hash-link" aria-label="Direct link to Inflow parameterization" title="Direct link to Inflow parameterization">​</a></h3>
<p>The &quot;Inflow&quot; side of a rate limit is essentially protection against unforeseen bug on a counterparty chain.
This can be quite conservative (e.g. bridged amount doubling in one week). This covers a few cases:</p>
<ul>
<li>Counter-party chain B having a token theft attack<!-- -->
<ul>
<li>TODO: description of how this looks</li>
</ul>
</li>
<li>Counter-party chain B runaway mint<!-- -->
<ul>
<li>TODO: description of how this looks</li>
</ul>
</li>
<li>IBC theft<!-- -->
<ul>
<li>TODO: description of how this looks</li>
</ul>
</li>
</ul>
<p>It does get more complex when the counterparty chain is itself a DEX, but this is still much more protection than nothing.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="outflow-parameterization">Outflow parameterization<a href="#outflow-parameterization" class="hash-link" aria-label="Direct link to Outflow parameterization" title="Direct link to Outflow parameterization">​</a></h3>
<p>The &quot;Outflow&quot; side of a rate limit is protection against a bug on Osmosis OR IBC.
This has potential for much more user-frustrating issues, if set too low.
E.g. if theres some event that causes many people to suddenly withdraw many STARS or many USDC.</p>
<p>So this parameterization has to contend with being a tradeoff of withdrawal liveness in high volatility periods vs being a crucial safety rail, in event of on-Osmosis bug.</p>
<p>TODO: Better fill out</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-suggested-parameterization">Example suggested parameterization<a href="#example-suggested-parameterization" class="hash-link" aria-label="Direct link to Example suggested parameterization" title="Direct link to Example suggested parameterization">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="code-structure">Code structure<a href="#code-structure" class="hash-link" aria-label="Direct link to Code structure" title="Direct link to Code structure">​</a></h2>
<p>As mentioned at the beginning of the README, the go code is a relatively minimal ICS 20 wrapper, that dispatches relevant calls to a cosmwasm contract that implements the rate limiting functionality.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="go-middleware">Go Middleware<a href="#go-middleware" class="hash-link" aria-label="Direct link to Go Middleware" title="Direct link to Go Middleware">​</a></h3>
<p>To achieve this, the middleware  needs to implement  the <code>porttypes.Middleware</code> interface and the
<code>porttypes.ICS4Wrapper</code> interface. This allows the middleware to send and receive IBC messages by wrapping
any IBC module, and be used as an ICS4 wrapper by a transfer module (for sending packets or writing acknowledgements).</p>
<p>Of those interfaces, just the following methods have custom logic:</p>
<ul>
<li><code>ICS4Wrapper.SendPacket</code> forwards to contract, with intent of tracking of value sent via an ibc channel</li>
<li><code>Middleware.OnRecvPacket</code> forwards to contract, with intent of tracking of value received via an ibc channel</li>
<li><code>Middleware.OnAcknowledgementPacket</code> forwards to contract, with intent of undoing the tracking of a sent packet if the acknowledgment is not a success</li>
<li><code>OnTimeoutPacket</code> forwards to contract, with intent of undoing the tracking of a sent packet if the packet times out (is not relayed)</li>
</ul>
<p>All other methods from those interfaces are passthroughs to the underlying implementations.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parameters">Parameters<a href="#parameters" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h4>
<p>The middleware uses the following parameters:</p>
<table><thead><tr><th>Key</th><th>Type</th></tr></thead><tbody><tr><td>ContractAddress</td><td>string</td></tr></tbody></table>
<ol>
<li><strong>ContractAddress</strong> -
The contract address is the address of an instantiated version of the contract provided under <code>./contracts/</code></li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cosmwasm-contract-concepts">Cosmwasm Contract Concepts<a href="#cosmwasm-contract-concepts" class="hash-link" aria-label="Direct link to Cosmwasm Contract Concepts" title="Direct link to Cosmwasm Contract Concepts">​</a></h3>
<p>Something to keep in mind with all of the code, is that we have to reason separately about every item in the following matrix:</p>
<table><thead><tr><th>Native Token</th><th>Non-Native Token</th></tr></thead><tbody><tr><td>Send Native Token</td><td>Send Non-Native Token</td></tr><tr><td>Receive Native Token</td><td>Receive Non-Native Token</td></tr><tr><td>Timeout Native Send</td><td>Timeout Non-native Send</td></tr></tbody></table>
<p>(Error ACK can reuse the same code as timeout)</p>
<p>TODO: Spend more time on sudo messages in the following description. We need to better describe how we map the quota concepts onto the code.
Need to describe how we get the quota beginning balance, and that its different for sends and receives.
Explain intracacies of tracking that a timeout and/or ErrorAck must appear from the same quota, else we ignore its update to the quotas.</p>
<p>The tracking contract uses the following concepts</p>
<ol>
<li><strong>RateLimit</strong> - tracks the value flow transferred and the quota for a path.</li>
<li><strong>Path</strong> - is a (denom, channel) pair.</li>
<li><strong>Flow</strong> - tracks the value that has moved through a path during the current time window.</li>
<li><strong>Quota</strong> - is the percentage of the denom&#x27;s total value that can be transferred through the path in a given period of time (duration)</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="messages">Messages<a href="#messages" class="hash-link" aria-label="Direct link to Messages" title="Direct link to Messages">​</a></h4>
<p>The contract specifies the following messages:</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="query">Query<a href="#query" class="hash-link" aria-label="Direct link to Query" title="Direct link to Query">​</a></h5>
<ul>
<li>GetQuotas - Returns the quotas for a path</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="exec">Exec<a href="#exec" class="hash-link" aria-label="Direct link to Exec" title="Direct link to Exec">​</a></h5>
<ul>
<li>AddPath - Adds a list of quotas for a path</li>
<li>RemovePath - Removes a path</li>
<li>ResetPathQuota - If a rate limit has been reached, the contract&#x27;s governance address can reset the quota so that transfers are allowed again</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="sudo">Sudo<a href="#sudo" class="hash-link" aria-label="Direct link to Sudo" title="Direct link to Sudo">​</a></h5>
<p>Sudo messages can only be executed by the chain.</p>
<ul>
<li>SendPacket - Increments the amount used out of the send quota and checks that the send is allowed. If it isn&#x27;t, it will return a RateLimitExceeded error</li>
<li>RecvPacket - Increments the amount used out of the receive quota and checks that the receive is allowed. If it isn&#x27;t, it will return a RateLimitExceeded error</li>
<li>UndoSend - If a send has failed, the undo message is used to remove its cost from the send quota</li>
</ul>
<p>All of these messages receive the packet from the chain and extract the necessary information to process the packet and determine if it should be the rate limited.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="necessary-information">Necessary information<a href="#necessary-information" class="hash-link" aria-label="Direct link to Necessary information" title="Direct link to Necessary information">​</a></h3>
<p>To determine if a packet should be rate limited, we need:</p>
<ul>
<li>Channel: The channel on the Osmosis side: <code>packet.SourceChannel</code> for sends, and <code>packet.DestinationChannel</code> for receives.</li>
<li>Denom: The denom of the token being transferred as known on the Osmosis side (more on that bellow)</li>
<li>Channel Value: The total value of the chanel denominated in <code>Denom</code> (i.e.: channel-17 is worth 10k osmo).</li>
<li>Funds: the amount being transferred</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="notes-on-channel">Notes on Channel<a href="#notes-on-channel" class="hash-link" aria-label="Direct link to Notes on Channel" title="Direct link to Notes on Channel">​</a></h4>
<p>The contract also supports quotas on a custom channel called &quot;any&quot; that is checked on every transfer. If either the
transfer channel or the &quot;any&quot; channel have a quota that has been filled, the transaction will be rate limited.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="notes-on-denom">Notes on Denom<a href="#notes-on-denom" class="hash-link" aria-label="Direct link to Notes on Denom" title="Direct link to Notes on Denom">​</a></h4>
<p>We always use the the denom as represented on Osmosis. For native assets that is the local denom, and for non-native
assets it&#x27;s the &quot;ibc&quot; prefix and the sha256 hash of the denom trace (<code>ibc/...</code>).</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="sends">Sends<a href="#sends" class="hash-link" aria-label="Direct link to Sends" title="Direct link to Sends">​</a></h5>
<p>For native denoms, we can just use the denom in the packet. If the denom is invalid, it will fail somewhere else along the chain. Example result: <code>uosmo</code></p>
<p>For non-native denoms, the contract needs to hash the denom trace and append it to the <code>ibc/</code> prefix. The
contract always receives the parsed denom (i.e.: <code>transfer/channel-32/uatom</code> instead of
<code>ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2</code>). This is because of the order in which
the middleware is called. When sending a non-native denom, the packet contains <code>transfer/source-channel/denom</code> as it
is built on the <code>relay.SendTransfer()</code> in the transfer module and then passed to the middleware. Example result: <code>ibc/&lt;hash&gt;</code></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="receives">Receives<a href="#receives" class="hash-link" aria-label="Direct link to Receives" title="Direct link to Receives">​</a></h5>
<p>This behaves slightly different if the asset is an osmosis asset that was sent to the counterparty and is being
returned to the chain, or if the asset is being received by the chain and originates on the counterparty. In ibc this
is called being a &quot;source&quot; or a &quot;sink&quot; respectively.</p>
<p>If the chain is a sink for the denom, we build the local denom by prefixing the port and the channel
(<code>transfer/local-channel</code>) and hashing that denom. Example result: <code>ibc/&lt;hash&gt;</code></p>
<p>If the chain is the source for the denom, there are two possibilities:</p>
<ul>
<li>The token is a native token, in which case we just remove the prefix added by the counterparty. Example result: <code>uosmo</code></li>
<li>The token is a non-native token, in which case we remove the extra prefix and hash it. Example result <code>ibc/&lt;hash&gt;</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="notes-on-channel-value">Notes on Channel Value<a href="#notes-on-channel-value" class="hash-link" aria-label="Direct link to Notes on Channel Value" title="Direct link to Notes on Channel Value">​</a></h4>
<p>We have iterated on different strategies for calculating the channel value. Our preferred strategy is the following:</p>
<ul>
<li>For non-native tokens (<code>ibc/...</code>), the channel value should be the supply of those tokens in Osmosis</li>
<li>For native tokens, the channel value should be the total amount of tokens in escrow across all ibc channels</li>
</ul>
<p>The later ensures the limits are lower and represent the amount of native tokens that exist outside Osmosis. This is
beneficial as we assume the majority of native tokens exist on the native chain and the amount &quot;normal&quot; ibc transfers is
proportional to the tokens that have left the chain.</p>
<p>This strategy cannot be implemented at the moment because IBC does not track the amount of tokens in escrow across
all channels (<a href="https://github.com/cosmos/ibc-go/issues/2664" target="_blank" rel="noopener noreferrer">github issue</a>). Instead, we use the current supply on
Osmosis for all denoms (i.e.: treat native and non-native tokens the same way). Once that ticket is fixed, we will
update this strategy.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="caching">Caching<a href="#caching" class="hash-link" aria-label="Direct link to Caching" title="Direct link to Caching">​</a></h5>
<p>The channel value varies constantly. To have better predictability, and avoid issues of the value growing if there is
a potential infinite mint bug, we cache the channel value at the beginning of the period for every quota.</p>
<p>This means that if we have a daily quota of 1% of the osmo supply, and the channel value is 1M osmo at the beginning of
the quota, no more than 100k osmo can transferred during that day. If 10M osmo were to be minted or IBC&#x27;d in during that
period, the quota will not increase until the period expired. Then it will be 1% of the new channel value (~11M)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="integration">Integration<a href="#integration" class="hash-link" aria-label="Direct link to Integration" title="Direct link to Integration">​</a></h3>
<p>The rate limit middleware wraps the <code>transferIBCModule</code> and is added as the entry route for IBC transfers.</p>
<p>The module is also provided to the underlying <code>transferIBCModule</code> as its <code>ICS4Wrapper</code>; previously, this would have
pointed to a channel, which also implements the <code>ICS4Wrapper</code> interface.</p>
<p>This integration can be seen in <a href="https://github.com/osmosis-labs/osmosis/blob/main/app/keepers/keepers.go" target="_blank" rel="noopener noreferrer">osmosis/app/keepers/keepers.go</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing-strategy">Testing strategy<a href="#testing-strategy" class="hash-link" aria-label="Direct link to Testing strategy" title="Direct link to Testing strategy">​</a></h2>
<p>A general testing strategy is as follows:</p>
<ul>
<li>Setup two chains.</li>
<li>Send some tokens from A-&gt;B and some from B-&gt;A (so that there are IBC tokens to play with in both sides)</li>
<li>Add the rate limiter on A with low limits (i.e. 1% of supply)</li>
<li>Test Function for chains A&#x27; and B&#x27; and denom d<!-- -->
<ul>
<li>Send some d tokens from A&#x27; to B&#x27; and get close to the limit.</li>
<li>Do the same transfer making sure the amount is above the quota and verify it fails with the rate limit error</li>
<li>Wait until the reset time has passed, and send again. The transfer should now succeed</li>
</ul>
</li>
<li>Repeat the above test for the following combination of chains and tokens: <code>(A,B,a)</code>, <code>(B,A,a)</code>, <code>(A,B,b)</code>, <code>(B,A,b)</code>,
where <code>a</code> and <code>b</code> are native tokens to chains A and B respectively.</li>
</ul>
<p>For more comprehensive tests we can also:</p>
<ul>
<li>Add a third chain C and make sure everything works properly for C tokens that have been transferred to A and to B</li>
<li>Test that the contracts gov address can reset rate limits if the quota has been hit</li>
<li>Test the queries for getting information about the state of the quotas</li>
<li>Test that rate limit symmetries hold (i.e.: sending the a token through a rate-limited channel and then sending back
reduces the rate limits by the same amount that it was increased during the first send)</li>
<li>Ensure that the channels between the test chains have different names (A-&gt;B=&quot;channel-0&quot;, B-&gt;A=&quot;channel-1&quot;, for example)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="known-future-work">Known Future work<a href="#known-future-work" class="hash-link" aria-label="Direct link to Known Future work" title="Direct link to Known Future work">​</a></h2>
<p>Items that have been highlighted above:</p>
<ul>
<li>Making automated rate limits get added for channels, instead of manual configuration only</li>
<li>Improving parameterization strategies / data analysis</li>
<li>Adding the USDC based rate limits</li>
<li>We need better strategies for how rate limits &quot;expire&quot;.</li>
</ul>
<p>Not yet highlighted</p>
<ul>
<li>Making monitoring tooling to know when approaching rate limiting and when they&#x27;re hit</li>
<li>Making tooling to easily give us summaries we can use, to reason about &quot;bug or not bug&quot; in event of rate limit being hit</li>
<li>Enabling ways to pre-declare large transfers so as to not hit rate limits.<!-- -->
<ul>
<li>Perhaps you can on-chain declare intent to send these assets with a large delay, that raises monitoring but bypasses rate limits?</li>
<li>Maybe contract-based tooling to split up the transfer suffices?</li>
</ul>
</li>
<li>Strategies to account for high volatility periods without hitting rate limits<!-- -->
<ul>
<li>Can imagine &quot;Hop network&quot; style markets emerging</li>
<li>Could imagine tieng it into looking at AMM volatility, or off-chain oracles<!-- -->
<ul>
<li>but these are both things we should be wary of security bugs in.</li>
<li>Maybe <a href="https://youtu.be/HB5TrK7A4pI?t=2852" target="_blank" rel="noopener noreferrer">constraint based programming with tracking of provenance</a> as a solution</li>
</ul>
</li>
</ul>
</li>
<li>Analyze changing denom-based rate limits, to just overall withdrawal amount for Osmosis</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/sdk/ibchooks/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">x/ibchooks</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/sdk/marker/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">x/marker</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#notice" class="table-of-contents__link toc-highlight">Notice</a></li><li><a href="#motivation" class="table-of-contents__link toc-highlight">Motivation</a></li><li><a href="#rate-limit-types" class="table-of-contents__link toc-highlight">Rate limit types</a></li><li><a href="#instantiating-rate-limits" class="table-of-contents__link toc-highlight">Instantiating rate limits</a></li><li><a href="#parameterizing-the-rate-limit" class="table-of-contents__link toc-highlight">Parameterizing the rate limit</a><ul><li><a href="#handling-rate-limit-boundaries" class="table-of-contents__link toc-highlight">Handling rate limit boundaries</a></li><li><a href="#inflow-parameterization" class="table-of-contents__link toc-highlight">Inflow parameterization</a></li><li><a href="#outflow-parameterization" class="table-of-contents__link toc-highlight">Outflow parameterization</a></li><li><a href="#example-suggested-parameterization" class="table-of-contents__link toc-highlight">Example suggested parameterization</a></li></ul></li><li><a href="#code-structure" class="table-of-contents__link toc-highlight">Code structure</a><ul><li><a href="#go-middleware" class="table-of-contents__link toc-highlight">Go Middleware</a></li><li><a href="#cosmwasm-contract-concepts" class="table-of-contents__link toc-highlight">Cosmwasm Contract Concepts</a></li><li><a href="#necessary-information" class="table-of-contents__link toc-highlight">Necessary information</a></li><li><a href="#integration" class="table-of-contents__link toc-highlight">Integration</a></li></ul></li><li><a href="#testing-strategy" class="table-of-contents__link toc-highlight">Testing strategy</a></li><li><a href="#known-future-work" class="table-of-contents__link toc-highlight">Known Future work</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:inbound@provenance.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">inbound@provenance.io<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/kNZC8nwCFP" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/provenancefdn" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://medium.com/provenanceblockchain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/provenance-io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Provenance Blockchain Foundation</div></div></div></footer></div>
</body>
</html>