<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-pb/blockchain/introduction/major-components">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Major Components | Provenance Blockchain Developer Portal</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://vwagner.github.io/docs/pb/blockchain/introduction/major-components"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Major Components | Provenance Blockchain Developer Portal"><meta data-rh="true" name="description" content="Application Trinity"><meta data-rh="true" property="og:description" content="Application Trinity"><link data-rh="true" rel="icon" href="/img/prov-logo.svg"><link data-rh="true" rel="canonical" href="https://vwagner.github.io/docs/pb/blockchain/introduction/major-components"><link data-rh="true" rel="alternate" href="https://vwagner.github.io/docs/pb/blockchain/introduction/major-components" hreflang="en"><link data-rh="true" rel="alternate" href="https://vwagner.github.io/docs/pb/blockchain/introduction/major-components" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.92631b47.css">
<link rel="preload" href="/assets/js/runtime~main.4c7f0c76.js" as="script">
<link rel="preload" href="/assets/js/main.bdc4fc8e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/prov-logo-full-color.png" alt="Provenance Blockchain Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/prov-logo-full-color.png" alt="Provenance Blockchain Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Quick Start</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/quick-start/start-here">Start Here</a></li><li><a class="dropdown__link" href="/docs/quick-start/wallet-and-hash">Get a Wallet &amp; Hash</a></li><li><a class="dropdown__link" href="/docs/quick-start/run-a-node">Run a Node</a></li><li><a class="dropdown__link" href="/docs/quick-start/become-a-validator">Become a Validator</a></li><li><a class="dropdown__link" href="/docs/learn/asset-lifecycle/markers">Tokenize an Asset</a></li><li><a class="dropdown__link" href="/docs/quick-start/build-a-dapp">Build a dApp</a></li><li><a class="dropdown__link" href="/docs/quick-start/write-a-smart-contract">Write a Smart Contract</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/learn/learn-about">Guides</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Build</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/build/dev-environment">Dev Environment</a></li><li><a class="dropdown__link" href="/docs/build/clients">Clients</a></li><li><a class="dropdown__link" href="/docs/build/libraries">Libraries and APIs</a></li><li><a href="https://provenance.io/grants" target="_blank" rel="noopener noreferrer" class="dropdown__link">Grants Program</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Discover</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/discover/explorer">Provenance Explorer</a></li><li><a class="dropdown__link" href="/docs/discover/wallets">Wallets</a></li><li><a class="dropdown__link" href="/docs/discover/hash">Hash</a></li><li><a class="dropdown__link" href="/docs/discover/usdf">USDF</a></li><li><a class="dropdown__link" href="/docs/discover/smart-contract-catalog">Smart Contract Catalog</a></li><li><a class="dropdown__link" href="/docs/discover/dapps">dApps</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Connect</a><ul class="dropdown__menu"><li><a href="https://github.com/provenance-io/" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub</a></li><li><a href="https://discord.gg/kNZC8nwCFP" target="_blank" rel="noopener noreferrer" class="dropdown__link">Discord</a></li><li><a href="https://www.linkedin.com/company/provenance-blockchain/" target="_blank" rel="noopener noreferrer" class="dropdown__link">LinkedIn</a></li><li><a href="https://twitter.com/provenancefdn" target="_blank" rel="noopener noreferrer" class="dropdown__link">Twitter</a></li><li><a href="https://medium.com/provenanceblockchain" target="_blank" rel="noopener noreferrer" class="dropdown__link">Blog</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/provenance-io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pb/ecosystem/financial-services-blockchain/">Ecosystem</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/pb/blockchain/introduction/">Blockchain</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/pb/blockchain/introduction/">Introduction</a><button aria-label="Toggle the collapsible sidebar category &#x27;Introduction&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pb/blockchain/introduction/application-architecture">Application Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pb/blockchain/introduction/major-components">Major Components</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/pb/blockchain/basics/anatomy-of-a-provenance-application">Basics</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pb/blockchain/running-a-node/">Installing Provenanced</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pb/blockchain/using-provenance/">Using Provenanced</a><button aria-label="Toggle the collapsible sidebar category &#x27;Using Provenanced&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/pb/blockchain/running-a-node/running-a-node-1/">Running a Node</a><button aria-label="Toggle the collapsible sidebar category &#x27;Running a Node&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/pb/modules/">Modules</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modules&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pb/modules/ibc-and-zones">IBC and Zones</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pb/p8e/overview/">BlockVault</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pb/contributing/adr/">Contributing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed section-heading"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/pb/faq/validator-faq">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item section-heading"><div class="menu__list-item-collapsible"><a class="menu__link">License</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Apache 2.0<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Blockchain</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/pb/blockchain/introduction/"><span itemprop="name">Introduction</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Major Components</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Major Components</h1><p class="pb-5 mb-5 -mt-3 border-0 border-b border-b-gray-300 border-solid text-gray-500">Provenance Blockchain facilitates the development of blockchain-based financial services via components.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="application-trinity">Application Trinity<a class="hash-link" href="#application-trinity" title="Direct link to heading">​</a></h2><p>Provenance Blockchain is composed of these core concepts:</p><ul><li>Modules that implement financial services business logic. Modules are composed to realize complex financial services processes.</li><li>Smart Contracting engine to develop and deploy contracts directly to the Provenance Blockchain.</li><li>Off-chain client-side agreements using the Contract Execution Environment.</li></ul><p>Provenance Blockchain distinguishes three types of applications based on these core concepts:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="on-chain">On-Chain<a class="hash-link" href="#on-chain" title="Direct link to heading">​</a></h3><p>Any client application that is configured with the proper key/addresses and modules, and uses Hash tokens for service payments, can transact directly on-chain within the Provenance Blockchain ecosystem. Applications interact directly with the core <a href="/docs/pb/modules/cosmos-modules">Provenance Blockchain Modules</a> and a <a href="/docs/pb/blockchain/running-a-node/running-a-node-1/">Provenance Blockchain Node</a>. Applications may implement and leverage custom <a href="/docs/pb/modules/provwasm-smart-contracts">Smart Contracts </a>specific to the business application use case.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-side">Client-Side<a class="hash-link" href="#client-side" title="Direct link to heading">​</a></h3><p>Using the client-side <a href="/docs/pb/p8e/overview/">Contract Execution Environment</a>, Provenance Blockchain includes functionality to encrypt and store confidential data and documents and to securely and selectively share those with other clients. Note that the on-chain immutability is extended to the off-chain data when the on-chain contract refers to those data by their hash (checksum) identifier, i.e. the cryptographic hash of the data&#x27;s content. This functionality allows for off-chain transactions that optionally can complement the on-chain operations. The Contract Execution Environment is a client-hosted solution (or, optionally, hosted by a trusted service provider) that also interacts with a Provenance Blockchain Node.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hybrid">Hybrid<a class="hash-link" href="#hybrid" title="Direct link to heading">​</a></h3><p>Financial transactions often consist of on-chain and client-side parts. For financial transactions, for example, the confidential documents supporting the transaction can be referred to by reference in the on-chain transaction. Those references point at immutable and encrypted documents that are safely stored off-chain. As part of the transaction, those confidential documents can be securely and selectively shared between the business partners. Provenance Blockchain fully supports this hybrid model, which allows for more complex financial transactions to be conducted within the Provenance Blockchain-ecosystem.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="provenance-blockchain-node">Provenance Blockchain Node<a class="hash-link" href="#provenance-blockchain-node" title="Direct link to heading">​</a></h2><p>A Provenance Blockchain Node is a daemon process (<code>provenanced</code>) <a href="https://docs.cosmos.network/main/core/node.html" target="_blank" rel="noopener noreferrer">Full-Node Client</a> implementation and is the core process that runs the Provenance Blockchain. This process runs the state-machine, starting from a genesis file, and connects to peers on the network running the same client to receive and relay transactions, block proposals and signatures. Participants in the network run this process to initialize their state-machine, connect with other full-nodes and update their state-machine as new blocks come in. The blockchain full-node presents itself as the <code>provenanced</code> binary.</p><p>Nodes in the network include:</p><ul><li>Query nodes used by business application middleware for efficient and fast state query.</li><li>Transactional nodes used by business application middleware for efficient transaction submission and event listening.</li><li>Archival nodes where the pruning strategy is set to maintain all historic states.</li><li><a href="/docs/pb/ecosystem/community/validator">Validators</a> that are responsible for committing new blocks in the blockchain for which they are rewarded with gas fees (i.e. Hash). These validators participate in the consensus protocol by broadcasting votes. Validators bond their own Hash and have Hash delegated, or staked to them by Hash holders. Validators have a stake in the network.</li><li>Sentry nodes for Validator DDoS mitigation.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cosmovisor">Cosmovisor<a class="hash-link" href="#cosmovisor" title="Direct link to heading">​</a></h3><p><a href="https://docs.cosmos.network/main/run-node/cosmovisor.html" target="_blank" rel="noopener noreferrer">Cosmovisor</a> is a small process manager around the Provenance Blockchain daemon process (<code>provenanced</code>) that monitors the <a href="/docs/pb/ecosystem/governance/">governance module</a> for <a href="/docs/pb/ecosystem/governance/software-upgrade-proposal">upgrade</a> proposals. Approved upgrade proposals can be run manually or automatically to download the new code, stop the node, run the migration script, replace the node binary, and start with the a genesis file.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="modules">Modules<a class="hash-link" href="#modules" title="Direct link to heading">​</a></h3><p><a href="https://docs.cosmos.network/main/building-modules/intro.html" target="_blank" rel="noopener noreferrer">Modules</a> define the Provenance Blockchain logic. Provenance Blockchain is composed of modules from the Cosmos SDK and custom modules to support value markers and the <a href="/docs/pb/p8e/overview/">Contract Execution Environment</a>. Modules provide core functionality that blockchain applications need, including a <a href="https://docs.cosmos.network/main/core/baseapp.html" target="_blank" rel="noopener noreferrer">boilerplate implementation of the ABCI</a> to communicate with the underlying consensus engine, a <a href="https://docs.cosmos.network/main/core/store.html#multistore" target="_blank" rel="noopener noreferrer">multistore</a> to persist state, a <a href="https://docs.cosmos.network/main/core/node.html" target="_blank" rel="noopener noreferrer">server</a> to form a full-node, and <a href="https://docs.cosmos.network/main/interfaces/interfaces-intro.html" target="_blank" rel="noopener noreferrer">interfaces</a> to handle queries. Modules implement the bulk of the logic of financial service applications and the core does the wiring to enable modules to be composed together.</p><p>Modules can be seen as little state-machines within the state-machine. They generally define a subset of the state using one or more key-value stores and message types.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-ring">Key Ring<a class="hash-link" href="#key-ring" title="Direct link to heading">​</a></h3><p>To interact with the <code>provenanced</code> daemon, and by extension the node, a keyring that holds the private/public key pairs used to interact with a node must be established. For example, a validator key needs to be set up before running the blockchain node so that blocks can be correctly signed. The private key can be stored in different locations, called &quot;backends&quot;, such as a file, an <a href="https://en.wikipedia.org/wiki/Hardware_security_module" target="_blank" rel="noopener noreferrer">HSM</a>, or the operating system&#x27;s own key storage. <a href="https://docs.cosmos.network/main/run-node/keyring.html" target="_blank" rel="noopener noreferrer">Refer to the Cosmos keyring documentation for more information.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="genesis">Genesis<a class="hash-link" href="#genesis" title="Direct link to heading">​</a></h3><p>Before running a node the chain is initialized via a genesis file. A default Provenance Blockchain genesis file is provided depending on the network in use (mainnet versus testnet). Refer to <a href="/docs/pb/blockchain/running-a-node/">Running a Node</a> for more information on establishing a genesis file.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="interacting-with-a-node">Interacting with a Node<a class="hash-link" href="#interacting-with-a-node" title="Direct link to heading">​</a></h3><p>There are multiple ways to interact with a node: using the CLI, using gRPC, or using the REST endpoints. With a running node, the <code>provenanced</code> daemon process can be used as a CLI. The CLI provides functionality for signing and submitting transactions, querying, key and key ring management, as well as Module interaction. <a href="https://docs.cosmos.network/main/run-node/interact-node.html" target="_blank" rel="noopener noreferrer">Refer to the Cosmos Interacting with the Node documentation for more information.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="smart-contracts">Smart Contracts<a class="hash-link" href="#smart-contracts" title="Direct link to heading">​</a></h2><p>The Provenance Blockchain Smart Contract engine is based on the <a href="https://docs.cosmwasm.com/docs/1.0/" target="_blank" rel="noopener noreferrer">CosmWasm</a> smart contracting platform. It is referred to as <code>provwasm</code> within the ecosystem. It provides a the smart contracting component of the ecosystem.</p><p><a href="https://github.com/provenance-io/provwasm" target="_blank" rel="noopener noreferrer">ProvWasm</a> is a module within Provenance Blockchain thereby providing smart contracting support to the Provenance Blockchain chain without adjusting existing logic. Smart contracts are hosted on a running Provenance Blockchain node (<code>provenanced</code>) where they can then be used by applications. Applications connect to smart contracts in the same way as they would interact with modules: CLI, gRPC, or REST.</p><p>There are 3 phases of a ProvWasm contract that help understand how they are used:</p><ul><li>Upload Code: Upload the optimized smart contract (wasm) code, no state nor contract address (example Standard ERC20 contract)</li><li>Instantiate Contract: Instantiate a code reference with some initial state, creates new address (example set token name, max issuance, etc for <em>my</em> ERC20 token)</li><li>Execute Contract: This may support many different calls, but they are all unprivileged usage of a previously instantiated contract, depends on the contract design (example: Send ERC20 token, grant approval to other contract).</li></ul><p>Provenance Blockchain Smart Contract instantiation and execution is metered and requires gas. Furthermore, both instantiation and execution allow the signer to send some tokens to the contract along with the message. Two key differences are that sending tokens directly to a contract <em>does not trigger any contract code</em>.</p><p>Provenance Blockchain Smart Contract are able to leverage Provenance Blockchain Modules. This allows for the creation of complex, multi-module contracts.</p><p><a href="https://github.com/provenance-io/bilateral-exchange" target="_blank" rel="noopener noreferrer">A reference bi-lateral exchange smart contract is maintained here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contract-execution-environment">Contract Execution Environment<a class="hash-link" href="#contract-execution-environment" title="Direct link to heading">​</a></h2><p>The Provenance Blockchain Contact Execution Environment (BlockVault) is an optional layer on top of the Provenance Blockchain to allow single- and multi-party client-side contract execution while preserving data privacy. Provenance Blockchain client-side contracts take encrypted data from the user (client) and transform the information into encrypted data in the user’s own private object store with object hashes recorded on the blockchain. BlockVault directly integrates with the <a href="/docs/pb/modules/metadata-module">Provenance Blockchain Metadata Module</a> to simplify generating signed records of an asset’s provenance.</p><p>Assets can be directly defined with the Metadata module, but the BlockVault execution environment assists in the complex process of hashing of data, maintenance of immutable objects, and signature orchestration between multiple parties.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-contracts">Client Contracts<a class="hash-link" href="#client-contracts" title="Direct link to heading">​</a></h3><p>Client-side contracts differ from &quot;smart contracts&quot; in that they keep data private between parties off-chain and thus facilitate a structure to record agreed-upon state data to the blockchain. Smart contracts, in comparison, are run directly on the blockchain and require the validators to have access to the data, which complicates many consumer-based transactions due to data privacy laws.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-flow">Transaction Flow<a class="hash-link" href="#transaction-flow" title="Direct link to heading">​</a></h3><p>Entities and organizations utilize the Contract Execution Environment to execute contracts creating single or multi-party agreements. Entity identity and data encryption make use of public-private key pairs. Entities are known to each other and share data with each other through their public keys. Contracts and asset data are forwarded to all entities participating in the contract by public key identifier. Entities provide an implementation of an Encrypted Object Store (EOS) where encrypted data related to their public key is stored. Contract execution consumes data from the entity EOS, and the results of the contract executions are returned to the submitting entity&#x27;s execution environment. The hash sum of the Contract execution results, i.e. the cryptograph hash of its content, are submitted to the Provenance Blockchain (via the Metadata module) where they are validated and committed to the chain. Provenance Blockchain emits events notifying entities the contract has been committed on the blockchain. An index, local to the entity, is updated with the new contract information. This information is used later for searching and querying the data.</p><p>Refer to the <a href="/docs/pb/p8e/overview/">Contract Execution Environment</a> for information and tutorials.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pb/blockchain/introduction/application-architecture"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Application Architecture</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pb/blockchain/basics/anatomy-of-a-provenance-application"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Anatomy of the Provenance Blockchain Application</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#application-trinity" class="table-of-contents__link toc-highlight">Application Trinity</a><ul><li><a href="#on-chain" class="table-of-contents__link toc-highlight">On-Chain</a></li><li><a href="#client-side" class="table-of-contents__link toc-highlight">Client-Side</a></li><li><a href="#hybrid" class="table-of-contents__link toc-highlight">Hybrid</a></li></ul></li><li><a href="#provenance-blockchain-node" class="table-of-contents__link toc-highlight">Provenance Blockchain Node</a><ul><li><a href="#cosmovisor" class="table-of-contents__link toc-highlight">Cosmovisor</a></li><li><a href="#modules" class="table-of-contents__link toc-highlight">Modules</a></li><li><a href="#key-ring" class="table-of-contents__link toc-highlight">Key Ring</a></li><li><a href="#genesis" class="table-of-contents__link toc-highlight">Genesis</a></li><li><a href="#interacting-with-a-node" class="table-of-contents__link toc-highlight">Interacting with a Node</a></li></ul></li><li><a href="#smart-contracts" class="table-of-contents__link toc-highlight">Smart Contracts</a></li><li><a href="#contract-execution-environment" class="table-of-contents__link toc-highlight">Contract Execution Environment</a><ul><li><a href="#client-contracts" class="table-of-contents__link toc-highlight">Client Contracts</a></li><li><a href="#transaction-flow" class="table-of-contents__link toc-highlight">Transaction Flow</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:inbound@provenance.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">inbound@provenance.io<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/kNZC8nwCFP" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/provenancefdn" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://medium.com/provenanceblockchain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/provenance-io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Provenance Blockchain Foundation</div></div></div></footer></div>
<script src="/assets/js/runtime~main.4c7f0c76.js"></script>
<script src="/assets/js/main.bdc4fc8e.js"></script>
</body>
</html>